{"meta":{"title":"Ray's Blog","subtitle":null,"description":"å°‘å¥³ç¥ˆç¥·ä¸­...","author":"Ray","url":"https://memsetray.github.io"},"pages":[{"title":"bangumi","date":"2019-02-10T13:32:48.000Z","updated":"2022-09-07T11:12:50.613Z","comments":true,"path":"bangumi/index.html","permalink":"https://memsetray.github.io/bangumi/index.html","excerpt":"","text":"","keywords":null},{"title":"client","date":"2018-12-20T15:13:35.000Z","updated":"2021-11-09T14:13:18.000Z","comments":false,"path":"client/index.html","permalink":"https://memsetray.github.io/client/index.html","excerpt":"","text":"ç›´æ¥ä¸‹è½½ or æ‰«ç ä¸‹è½½ï¼š","keywords":"Androidå®¢æˆ·ç«¯"},{"title":"about","date":"2018-12-12T14:14:36.000Z","updated":"2022-09-05T05:22:49.110Z","comments":false,"path":"about/index.html","permalink":"https://memsetray.github.io/about/index.html","excerpt":"","text":"[Rayçš„ä¸ªäººä»‹ç»] ä¸&nbsp; Ray&nbsp; ï¼ˆ èœ ï¼‰ å¯¹è¯ä¸­... bot_ui_ini()","keywords":"å…³äº"},{"title":"donate","date":"2018-12-20T15:13:05.000Z","updated":"2021-11-09T14:13:18.000Z","comments":false,"path":"donate/index.html","permalink":"https://memsetray.github.io/donate/index.html","excerpt":"","text":"","keywords":"è°¢è°¢é¥²ä¸»äº†å–µ~"},{"title":"lab","date":"2019-01-05T13:47:59.000Z","updated":"2022-09-07T06:28:38.365Z","comments":false,"path":"lab/index.html","permalink":"https://memsetray.github.io/lab/index.html","excerpt":"","text":"Blogæ›´æ–°æ—¥å¿— 2022å¹´9æœˆ4æ—¥ï¼šåšå®¢æ­å»ºå®Œæˆï¼Œæ­£å¼å¼€å§‹ä½¿ç”¨ 2022å¹´9æœˆ5æ—¥ï¼šä¿®å¤äº†ä¸ªäººä»‹ç»ï¼Œæ·»åŠ äº†Walineè¯„è®ºç³»ç»Ÿï¼Œä¿®å¤äº†å„ç§å›¾ç‰‡è£‚å¼€é—®é¢˜ 2022å¹´9æœˆ6æ—¥ï¼šä¿®å¤äº†è¯„è®ºç³»ç»Ÿå¯¼è‡´ç½‘é¡µæŒ‚æ‰çš„é—®é¢˜ï¼Œå®Œå–„äº†è¯„è®ºç³»ç»Ÿï¼Œä¿®å¤äº†æ‰“èµäºŒç»´ç ï¼Œä¿®å¤äº†ç¤¾äº¤é“¾æ¥ 2022å¹´9æœˆ7æ—¥ï¼šæ·»åŠ äº†Live2dçœ‹æ¿å¨˜ ToDo å®Œå–„æ¸…å•ï¼šç•ªç»„ä¸å›¾é›† æ·»åŠ è¯´è¯´ æ·»åŠ è§†é¢‘ â€¦","keywords":"Labå®éªŒå®¤"},{"title":"comment","date":"2018-12-20T15:13:48.000Z","updated":"2021-11-09T14:13:18.000Z","comments":true,"path":"comment/index.html","permalink":"https://memsetray.github.io/comment/index.html","excerpt":"","text":"å¿µä¸¤å¥è¯— å™åˆ«æ¢¦ã€æ‰¬å·ä¸€è§‰ã€‚ ã€å®‹ä»£ã€‘å´æ–‡è‹±ã€Šå¤œæ¸¸å®«Â·äººå»è¥¿æ¥¼é›æ³ã€‹","keywords":"ç•™è¨€æ¿"},{"title":"music","date":"2018-12-20T15:14:28.000Z","updated":"2022-09-04T13:36:18.224Z","comments":false,"path":"music/index.html","permalink":"https://memsetray.github.io/music/index.html","excerpt":"","text":"","keywords":"å–œæ¬¢çš„éŸ³ä¹"},{"title":"links","date":"2018-12-19T15:11:06.000Z","updated":"2022-09-07T03:42:02.561Z","comments":true,"path":"links/index.html","permalink":"https://memsetray.github.io/links/index.html","excerpt":"","text":"","keywords":"å‹äººå¸"},{"title":"rss","date":"2018-12-20T15:09:03.000Z","updated":"2021-11-09T14:13:18.000Z","comments":true,"path":"rss/index.html","permalink":"https://memsetray.github.io/rss/index.html","excerpt":"","text":""},{"title":"theme-sakura","date":"2019-01-04T14:53:25.000Z","updated":"2021-11-09T14:13:18.000Z","comments":false,"path":"theme-sakura/index.html","permalink":"https://memsetray.github.io/theme-sakura/index.html","excerpt":"","text":"Hexoä¸»é¢˜Sakuraä¿®æ”¹è‡ªWordPressä¸»é¢˜Sakuraï¼Œæ„Ÿè°¢åŸä½œè€…Mashiro","keywords":"Hexo ä¸»é¢˜ Sakura ğŸŒ¸"},{"title":"tags","date":"2018-12-12T14:14:16.000Z","updated":"2021-11-09T14:13:18.000Z","comments":true,"path":"tags/index.html","permalink":"https://memsetray.github.io/tags/index.html","excerpt":"","text":""},{"title":"video","date":"2018-12-20T15:14:38.000Z","updated":"2021-11-09T14:13:18.000Z","comments":false,"path":"video/index.html","permalink":"https://memsetray.github.io/video/index.html","excerpt":"","text":"var videos = [ { img: 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: 'æ”¾é€æ—¶é—´: 2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' }, { img : 'https://lain.bgm.tv/pic/cover/l/0e/1e/218971_2y351.jpg', title: 'æœèŠ±å¤•èª“â€”â€”äºç¦»åˆ«ä¹‹æœæŸèµ·çº¦å®šä¹‹èŠ±', status: 'å·²è¿½å®Œ', progress: 100, jp: 'ã•ã‚ˆãªã‚‰ã®æœã«ç´„æŸã®èŠ±ã‚’ã‹ã–ã‚ã†', time: '2018-02-24 SUN.', desc: ' ä½åœ¨è¿œç¦»å°˜åš£çš„åœŸåœ°ï¼Œä¸€è¾¹å°†æ¯å¤©çš„äº‹æƒ…ç¼–ç»‡æˆåä¸ºå¸Œæ¯”æ¬§çš„å¸ƒï¼Œä¸€è¾¹é™é™ç”Ÿæ´»çš„ä¼Šæ¬§å¤«äººæ°‘ã€‚åœ¨15å²å·¦å³å¤–è¡¨å°±åœæ­¢æˆé•¿ï¼Œæ‹¥æœ‰æ•°ç™¾å¹´å¯¿å‘½çš„ä»–ä»¬ï¼Œè¢«ç§°ä¸ºâ€œç¦»åˆ«çš„ä¸€æ—â€ï¼Œå¹¶è¢«è§†ä¸ºæ´»ç€çš„ä¼ è¯´ã€‚æ²¡æœ‰åŒäº²çš„ä¼Šæ¬§å¤«å°‘å¥³ç›å¥‡äºšï¼Œè¿‡ç€è¢«ä¼™ä¼´åŒ…å›´çš„å¹³ç¨³æ—¥å­ï¼Œå´æ€»æ„Ÿè§‰â€œå­¤èº«ä¸€äººâ€ã€‚ä»–ä»¬çš„è¿™ç§æ—¥å¸¸ï¼Œä¸€ç¬é—´å°±å´©æºƒæ¶ˆå¤±ã€‚è¿½æ±‚ä¼Šæ¬§å¤«çš„é•¿å¯¿ä¹‹è¡€ï¼Œæ¢…è¨è’‚å†›ä¹˜åç€åä¸ºé›·çº³ç‰¹çš„å¤ä»£å…½å‘åŠ¨äº†è¿›æ”»ã€‚åœ¨ç»æœ›ä¸æ··ä¹±ä¹‹ä¸­ï¼Œä¼Šæ¬§å¤«çš„ç¬¬ä¸€ç¾å¥³è•¾è‰äºšè¢«æ¢…è¨è’‚å¸¦èµ°ï¼Œè€Œç›å¥‡äºšæš—æ‹çš„å°‘å¹´å…‹é‡Œå§†ä¹Ÿå¤±è¸ªäº†ã€‚ç›å¥‡äºšè™½ç„¶æ€»ç®—é€ƒè„±äº†ï¼Œå´å¤±å»äº†ä¼™ä¼´å’Œå½’å»ä¹‹åœ°â€¦â€¦ã€‚' } ] .should-ellipsis{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:95%;}.should-ellipsis-full{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;width:100%;}.should-ellipsis i{position:absolute;right:24px;}.grey-text{color:#9e9e9e !important}.grey-text.text-darken-4{color:#212121 !important}html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}img{border-style:none}progress{display:inline-block;vertical-align:baseline}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}html{-webkit-box-sizing:border-box;box-sizing:border-box}*,*:before,*:after{-webkit-box-sizing:inherit;box-sizing:inherit}ul:not(.browser-default){padding-left:0;list-style-type:none}ul:not(.browser-default)>li{list-style-type:none}.card{-webkit-box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2);box-shadow:0 2px 2px 0 rgba(0,0,0,0.14),0 3px 1px -2px rgba(0,0,0,0.12),0 1px 5px 0 rgba(0,0,0,0.2)}.hoverable{-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s}.hoverable:hover{-webkit-box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19);box-shadow:0 8px 17px 0 rgba(0,0,0,0.2),0 6px 20px 0 rgba(0,0,0,0.19)}i{line-height:inherit}i.right{float:right;margin-left:15px}.bangumi .right{float:right !important}.material-icons{text-rendering:optimizeLegibility;-webkit-font-feature-settings:'liga';-moz-font-feature-settings:'liga';font-feature-settings:'liga'}.row{margin-left:auto;margin-right:auto;margin-bottom:20px}.row:after{content:\"\";display:table;clear:both}.row .col{float:left;-webkit-box-sizing:border-box;box-sizing:border-box;padding:0 .75rem;min-height:1px}.row .col.s12{width:100%;margin-left:auto;left:auto;right:auto}@media only screen and (min-width:601px){.row .col.m6{width:50%;margin-left:auto;left:auto;right:auto}}html{line-height:1.5;font-family:-apple-system,BlinkMacSystemFont,\"Segoe UI\",Roboto,Oxygen-Sans,Ubuntu,Cantarell,\"Helvetica Neue\",sans-serif;font-weight:normal;color:rgba(0,0,0,0.87)}@media only screen and (min-width:0){html{font-size:14px}}@media only screen and (min-width:992px){html{font-size:14.5px}}@media only screen and (min-width:1200px){html{font-size:15px}}.card{position:relative;margin:.5rem 0 1rem 0;background-color:#fff;-webkit-transition:-webkit-box-shadow .25s;transition:-webkit-box-shadow .25s;transition:box-shadow .25s;transition:box-shadow .25s,-webkit-box-shadow .25s;border-radius:2px}.card .card-title{font-size:24px;font-weight:300}.card .card-title.activator{cursor:pointer}.card .card-image{position:relative}.card .card-image img{display:block;border-radius:2px 2px 0 0;position:relative;left:0;right:0;top:0;bottom:0;width:100%}.card .card-content{padding:24px;border-radius:0 0 2px 2px}.card .card-content p{margin:0}.card .card-content .card-title{display:block;line-height:32px;margin-bottom:8px}.card .card-content .card-title i{line-height:32px}.card .card-reveal{padding:24px;position:absolute;background-color:#fff;width:100%;overflow-y:auto;left:0;top:100%;height:100%;z-index:3;display:none}.card .card-reveal .card-title{cursor:pointer;display:block}.waves-effect{position:relative;cursor:pointer;display:inline-block;overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-tap-highlight-color:transparent;vertical-align:middle;z-index:1;-webkit-transition:.3s ease-out;transition:.3s ease-out}.waves-effect img{position:relative;z-index:-1}.waves-block{display:block}::-webkit-input-placeholder{color:#d1d1d1}::-moz-placeholder{color:#d1d1d1}:-ms-input-placeholder{color:#d1d1d1}::-ms-input-placeholder{color:#d1d1d1}[type=\"radio\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"radio\"]:not(:checked)+span{position:relative;padding-left:35px;cursor:pointer;display:inline-block;height:25px;line-height:25px;font-size:1rem;-webkit-transition:.28s ease;transition:.28s ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border-radius:50%}[type=\"radio\"]:not(:checked)+span:before,[type=\"radio\"]:not(:checked)+span:after{border:2px solid #5a5a5a}[type=\"radio\"]:not(:checked)+span:after{-webkit-transform:scale(0);transform:scale(0)}[type=\"checkbox\"]:not(:checked){position:absolute;opacity:0;pointer-events:none}[type=\"checkbox\"]:not(:checked):disabled+span:not(.lever):before{border:none;background-color:rgba(0,0,0,0.42)}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):before{width:0;height:0;border:3px solid transparent;left:6px;top:10px;-webkit-transform:rotateZ(37deg);transform:rotateZ(37deg);-webkit-transform-origin:100% 100%;transform-origin:100% 100%}[type=\"checkbox\"].filled-in:not(:checked)+span:not(.lever):after{height:20px;width:20px;background-color:transparent;border:2px solid #5a5a5a;top:0px;z-index:0}input[type=checkbox]:not(:disabled) ~ .lever:active:before,input[type=checkbox]:not(:disabled).tabbed:focus ~ .lever::before{-webkit-transform:scale(2.4);transform:scale(2.4);background-color:rgba(0,0,0,0.08)}input[type=range].focused:focus:not(.active)::-webkit-slider-thumb{-webkit-box-shadow:0 0 0 10px rgba(38,166,154,0.26);box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-moz-range-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)}input[type=range].focused:focus:not(.active)::-ms-thumb{box-shadow:0 0 0 10px rgba(38,166,154,0.26)} ç•ªç»„è®¡åˆ’ è¿™é‡Œå°†æ˜¯æ°¸è¿œçš„å›å¿† window.onload = function(){ videos.forEach(function(video, i){ $('#rootRow').append(` ${video.title} ${video.jp} ${video.status} ${video.title} ${video.jp} æ”¾é€æ—¶é—´: ${video.time} ${video.desc} ${video.status} `) }) }","keywords":"Bç«™"}],"posts":[{"title":"CodeForces1700-2000éš¾åº¦éƒ¨åˆ†é¢˜é¢˜è§£","slug":"Codeforces1700-2000éš¾åº¦éƒ¨åˆ†é¢˜é¢˜è§£","date":"2022-09-06T14:36:37.000Z","updated":"2022-10-04T12:32:11.156Z","comments":true,"path":"2022/09/06/Codeforces1700-2000éš¾åº¦éƒ¨åˆ†é¢˜é¢˜è§£/","link":"","permalink":"https://memsetray.github.io/2022/09/06/Codeforces1700-2000éš¾åº¦éƒ¨åˆ†é¢˜é¢˜è§£/","excerpt":"","text":"Codeforces 1700-2000éš¾åº¦éƒ¨åˆ†é¢˜é¢˜è§£ 1721D -Maximum AND é¢˜ç›®å¤§æ„:ç»™å‡ºä¸¤ä¸ªé•¿åº¦ä¸ºnnnçš„æ•°ç»„a,ba,ba,bï¼Œè§„å®šf(a,b)f(a,b)f(a,b)è¡¨ç¤ºä»¥ä¸‹æ“ä½œï¼š åˆ›å»ºä¸€ä¸ªé•¿åº¦ä¸ºnnnçš„æ•°ç»„ï¼Œæ»¡è¶³ci=aiâŠ•bic_i=a_i \\oplus b_iciâ€‹=aiâ€‹âŠ•biâ€‹ åˆ™ f(a,b)=c1&amp;c2&amp;...&amp;cnf(a,b) = c_1 \\&amp; c_2 \\&amp;...\\&amp;c_nf(a,b)=c1â€‹&amp;c2â€‹&amp;...&amp;cnâ€‹ ä½ å¯ä»¥å°†bbbæ•°ç»„è¿›è¡Œä»»æ„çš„æ’åˆ—ï¼Œæ±‚æœ€å¤§çš„f(a,b)f(a,b)f(a,b) æ•°æ®èŒƒå›´ï¼š1â‰¤nâ‰¤1051 \\leq n \\leq 10^51â‰¤nâ‰¤105 é¢˜è§£ï¼šäºŒè¿›åˆ¶æ„é€ é¢˜ï¼Œé¦–å…ˆè€ƒè™‘äºŒè¿›åˆ¶æ‹†ä½ï¼Œç”±äºf(a,b)f(a,b)f(a,b)ç”±æŒ‰ä½ä¸æ“ä½œå¾—åˆ°ï¼Œå› æ­¤æŸä¸€ä½ä¸º111å¿…ç„¶æœ‰ï¼š âˆ€ci\\forall c_iâˆ€ciâ€‹ï¼Œè¯¥ä½çš„äºŒè¿›åˆ¶ä¸º111 åˆç”±äºci=aiâŠ•bic_i=a_i \\oplus b_iciâ€‹=aiâ€‹âŠ•biâ€‹ï¼Œåˆ™aiä¸bia_i ä¸ b_iaiâ€‹ä¸biâ€‹å¿…ç„¶åœ¨è¯¥ä½ä¸Šæ»¡è¶³ï¼š000çš„ä¸ªæ•°ä¸111çš„ä¸ªæ•°ç›¸åŒ ç”±æ­¤è€ƒè™‘è´ªå¿ƒï¼šä»é«˜ä½å‘ä½ä½æšä¸¾ï¼Œå¦‚æœæ»¡è¶³è¯¥ä½ä¸Š000ä¸111çš„ä¸ªæ•°ç›¸åŒï¼Œå°±é€‰å–è¿™ä¸€ä½ï¼Œä½†æ˜¯è¿™ç§è´ªå¿ƒæ–¹å¼æ˜¯é”™è¯¯çš„ï¼Œå› ä¸ºï¼š 2 3 0 2 1 å¦‚æœæŒ‰ä¸Šè¿°æ–¹å¼é€‰å–ï¼Œä¼šå‘ç°bbbä¸­ä¸€å®šæœ‰ä¸€ä¸ªæ•°è¢«é€‰æ‹©äº†ä¸¤æ¬¡ï¼Œè¿™æ˜¾ç„¶æ˜¯ä¸åˆæ³•çš„ äºæ˜¯è¿›ä¸€æ­¥è€ƒè™‘ä¸€ä¸ªæ•°èƒ½è¢«é€‰å–çš„æ¡ä»¶ï¼Œä¸å¦¨è®¾ç­”æ¡ˆä¸ºresresres å¦‚æœå­˜åœ¨bbbçš„æ’åºï¼Œâˆ€ai\\forall a_iâˆ€aiâ€‹æœ‰(ai&amp;res)âŠ•(bi&amp;res)=res(a_i \\&amp; res) \\oplus (b_i \\&amp; res) = res(aiâ€‹&amp;res)âŠ•(biâ€‹&amp;res)=resï¼ˆå³å‰iiiä½ä¸­aaaä¸­1çš„ä¸ªæ•°ä¸bbbä¸­0çš„ä¸ªæ•°ç›¸åŒï¼‰ï¼Œåˆ™resresreså³ä¸ºç­”æ¡ˆã€‚ æˆ‘ä»¬è€ƒè™‘æ¯ä¸€ä½ï¼Œå°†å…¶å¼‚æˆ–resresres,å¹¶å°†ä¸¤ä¸ªå¾—åˆ°çš„æ•°ç»„æ’åºï¼Œå¦‚æœç›¸åŒï¼Œåˆ™è¯¥ä½ä¸º111ï¼Œå¦åˆ™ä¸º000 // Problem: D. Maximum AND // Contest: Codeforces - Educational Codeforces Round 134 (Rated for Div. 2) // URL: https://codeforces.com/problemset/problem/1721/D // Memory Limit: 256 MB // Time Limit: 3000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10; int n; int a[N]; int b[N]; bool check(int x) { vector&lt;int&gt; c, d; for(int i = 1; i &lt;= n; i ++) { c.push_back(a[i] &amp; x); d.push_back((b[i] &amp; x) ^ x); } sort(c.begin(), c.end()); sort(d.begin(), d.end()); return c == d; } void solve() { cin &gt;&gt; n; int res = 0; for(int i = 1; i &lt;= n; i ++) cin &gt;&gt; a[i]; for(int i = 1; i &lt;= n; i ++) cin &gt;&gt; b[i]; for(int i = 30; i &gt;= 0; i --) { if(check(res | (1 &lt;&lt; i))) res |= (1 &lt;&lt; i); } cout &lt;&lt; res &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1718A1/A2 - Burenka and Traditions (easy version)+(hard version) é¢˜ç›®å¤§æ„ï¼šæœ‰ä¸€ä¸ªé•¿åº¦ä¸ºnnnçš„æ•°ç»„aaaï¼Œæ¯ä¸€æ¬¡æ“ä½œå¯ä»¥é€‰æ‹©ä¸€æ®µåŒºé—´[l,r][l,r][l,r]å’Œä¸€ä¸ªéè´Ÿæ•´æ•°xxxï¼ŒèŠ±è´¹[(râˆ’l+1)/2][(r - l + 1) / 2][(râˆ’l+1)/2]ç§’ä½¿åŒºé—´å†…çš„æ•°éƒ½å¼‚æˆ–xxxï¼Œé—®æœ€å°‘å‡ ç§’æ‰èƒ½æŠŠæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ å˜æˆ000 æ•°æ®èŒƒå›´ï¼š1â‰¤nâ‰¤50001 \\leq n \\leq 50001â‰¤nâ‰¤5000ï¼Œ0â‰¤aiâ‰¤50000 \\leq a_i \\leq 50000â‰¤aiâ€‹â‰¤5000 é¢˜è§£ï¼šæˆ‘ä»¬å¯ä»¥å¯¹æ“ä½œåšç­‰ä»·å˜å½¢ï¼Œæˆ‘ä»¬å¯ä»¥å‘ç°æ“ä½œå…¶å®å¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼š å¼‚æˆ–ä¸€ä¸ªæ•°ï¼Œä»£ä»·ä¸º111 å¼‚æˆ–è¿ç»­ä¸¤ä¸ªæ•°ï¼Œä»£ä»·ä¸º111 æ˜¾ç„¶ï¼Œæˆ‘ä»¬è‡³å¤šå¯¹æ¯ä¸ªæ•°è¿›è¡Œä¸€æ¬¡ç¬¬ä¸€ç§æ“ä½œï¼Œç­”æ¡ˆè‡³å¤šä¸ºnnnï¼Œè€ƒè™‘ç¬¬äºŒç§æ“ä½œå¯¹ç­”æ¡ˆçš„å½±å“ï¼Œå¯ä»¥å‘ç°ï¼Œå¦‚æœä¸€æ®µè¿ç»­çš„æ•°å¼‚æˆ–ä¸º000ï¼Œé‚£ä¹ˆå°±å¯ä»¥è¿ç»­ç”¨ç¬¬äºŒç§æ“ä½œï¼Œæ¯ç”¨ä¸€æ¬¡ç¬¬äºŒç§æ“ä½œï¼Œç­”æ¡ˆå°±ä¼šå‡å°‘111ï¼Œå› æ­¤æˆ‘ä»¬å¯ä»¥ç»´æŠ¤æ‰€æœ‰å¼‚æˆ–å’Œä¸º000çš„å—ï¼Œè¿™å¯å‘æˆ‘ä»¬è€ƒè™‘å‰ç¼€å’Œã€‚ å¯¹åŸæ•°ç»„æ±‚å‰ç¼€å¼‚æˆ–å’Œsumsumsumï¼Œå¦‚æœsum(1,l)=sum(1,r)sum(1,l)=sum(1,r)sum(1,l)=sum(1,r)ï¼Œè¯´æ˜æ­¤æ—¶å¯ä»¥ä½¿ç”¨ä¸€æ¬¡ç¬¬äºŒç§æ“ä½œï¼Œç­”æ¡ˆå‡å°‘111ï¼Œæˆ‘ä»¬å¯ä»¥ç”¨mapmapmapæ¥ç»´æŠ¤å‰ç¼€å¼‚æˆ–å’Œçš„å€¼æ˜¯å¦å‡ºç°è¿‡ï¼Œæ³¨æ„ç‰¹åˆ¤000çš„æƒ…å†µå³å¯ã€‚ // Problem: A1. Burenka and Traditions (easy version) // Contest: Codeforces - Codeforces Round #814 (Div. 1) // URL: https://codeforces.com/problemset/problem/1718/A1 // Memory Limit: 256 MB // Time Limit: 1000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;map&gt; #include&lt;string&gt; #define int long long using namespace std; void solve() { int n; cin &gt;&gt; n; int res = n; map&lt;int, int&gt; m; m[0] = 1; int seg = 0; for(int i = 1; i &lt;= n; i ++) { int x; cin &gt;&gt; x; seg ^= x; if(m.count(seg)) { res --; m.clear(); m[0] = 1; seg = 0; } else m[seg] = 1; } cout &lt;&lt; res &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1718B - Fibonacci Strings é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªæ•°åˆ—ck{c_k}ckâ€‹ ä½ å¯ä»¥æ‰§è¡Œè‹¥å¹²æ¬¡æ“ä½œï¼Œå¯¹äºç¬¬iiiæ¬¡æ“ä½œï¼š é€‰å®šä¸€ä¸ª[1,n][1,n][1,n]èŒƒå›´å†…çš„æ•´æ•°did_idiâ€‹ï¼Œå½“iâ‰¥2i \\geq 2iâ‰¥2æ—¶ï¼Œå¿…é¡»ä¿è¯diâ‰ diâˆ’1d_i \\neq d_{i - 1}diâ€‹î€ â€‹=diâˆ’1â€‹ã€‚ å°†cdic_{d_i}cdiâ€‹â€‹å‡å»fif_ifiâ€‹ï¼Œå…¶ä¸­fif_ifiâ€‹æ˜¯æ–æ³¢é‚£å¥‘æ•°åˆ—ä¸­ç¬¬iiié¡¹ é—®ï¼šc1c_1c1â€‹è‡³ckc_kckâ€‹èƒ½å¦å…¨ä¸º0ï¼Ÿ æ•°æ®èŒƒå›´ï¼š1â‰¤kâ‰¤1061 \\leq k \\leq 10^61â‰¤kâ‰¤106 é¢˜è§£ï¼šé¦–å…ˆå¯ä»¥è§‚å¯Ÿåˆ°ï¼Œåªæœ‰å½“âˆ‘i=1kci\\sum_{i = 1}^k c_iâˆ‘i=1kâ€‹ciâ€‹ç­‰äºæ–æ³¢é‚£å¥‘æ•°åˆ—æŸé¡¹çš„å‰ç¼€å’Œæ—¶ï¼Œæ‰æœ‰å¯èƒ½å…¨ä¸º0 ä¹‹åè€ƒè™‘å¦‚ä½•é€‰æ‹©æœ€ä¼˜è§£ ä¼˜å…ˆè€ƒè™‘æ’å…¥æœ€å°çš„æ•°åˆ°æœ€å°çš„æ–æ³¢é‚£å¥‘æ•° ä¼˜å…ˆè€ƒè™‘æ’å…¥æœ€å¤§çš„æ•°åˆ°æœ€å¤§çš„æ–æ³¢é‚£å¥‘æ•° æ˜¾ç„¶æ–¹æ¡ˆ2ä¸ºæœ€ä¼˜è§£ï¼Œæ³¨æ„ç‰¹åˆ¤æ¯æ¬¡ä¸èƒ½é€‰ä¸¤ä¸ªç›¸åŒçš„ä¸‹æ ‡æ’å…¥å³å¯ // Problem: B. Fibonacci Strings // Contest: Codeforces - Codeforces Round #814 (Div. 1) // URL: https://codeforces.com/problemset/problem/1718/B // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #include&lt;queue&gt; #define int long long using namespace std; const int N = 2e5 + 10; typedef pair&lt;int, int&gt; PII; int a[N]; int feb[N]; int sum[N]; int idx = 0; void init() { feb[1] = 1; feb[2] = 1; sum[1] = 1; sum[2] = 2; for(int i = 3; i &lt;= 50; i ++) { feb[i] = feb[i - 1] + feb[i - 2]; sum[i] = sum[i - 1] + feb[i]; } } bool check(int s) { for(int i = 1; i &lt;= 50; i ++) { if(sum[i] == s) { idx = i; return true; } } return false; } void solve() { priority_queue&lt;PII, vector&lt;PII&gt; &gt; heap; idx = 0; int n; cin &gt;&gt; n; int s = 0; for(int i = 1; i &lt;= n; i ++) { cin &gt;&gt; a[i]; s += a[i]; heap.push({a[i], i}); } bool flag = 1; if(!check(s)) { cout &lt;&lt; &quot;NO&quot; &lt;&lt; endl; return ; } int back = -1; for(int i = idx; i &gt;= 1; i --) { auto t = heap.top(); heap.pop(); if(t.second == back &amp;&amp; heap.size() &amp;&amp; heap.top().first != t.first) flag = 0; else if(t.second == back &amp;&amp; heap.size() &amp;&amp; heap.top().first == t.first) { auto tt = heap.top(); heap.pop(); heap.push(t); t = tt; } else if(t.second == back &amp;&amp; heap.empty()) flag = 0; if(t.first &gt;= feb[i]) { t.first -= feb[i]; heap.push(t); back = t.second; } else { flag = 0; break; } } if(flag) cout &lt;&lt; &quot;YES&quot; &lt;&lt; endl; else cout &lt;&lt; &quot;NO&quot; &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; init(); while(T --) { solve(); } return 0; } 1716D - Chip Move é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸¤ä¸ªæ•°n,kn,kn,kï¼Œé—®ä»000å¼€å§‹ï¼Œç¬¬iiiæ­¥åªèƒ½èµ°(k+iâˆ’1)(k + i - 1)(k+iâˆ’1)çš„å€æ•°ï¼Œé—®åˆ†åˆ«èµ°åˆ°xâˆˆ[1,n]x \\in [1,n]xâˆˆ[1,n]çš„æ–¹æ¡ˆæ•°ï¼Œå¯¹998244353å–æ¨¡ã€‚ æ•°æ®èŒƒå›´ï¼š1â‰¤kâ‰¤nâ‰¤2âˆ—1051 \\leq k \\leq n \\leq 2*10^51â‰¤kâ‰¤nâ‰¤2âˆ—105 é¢˜è§£ï¼šå¾…è¡¥å……â€¦ // Problem: D. Chip Move // Contest: Codeforces - Educational Codeforces Round 133 (Rated for Div. 2) // URL: https://codeforces.com/problemset/problem/1716/D // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10, mod = 998244353; int dp[2][N], res[N]; void solve() { int n, k; cin &gt;&gt; n &gt;&gt; k; int sum = k, id = 1; dp[0][0] = 1; for(int i = k; sum &lt;= n; i ++) { id ^= 1; for(int j = i; j &lt;= n; j ++) dp[id][j] = (dp[id][j] + dp[id ^ 1][j - i] + dp[id][j - i]) % mod; dp[id][0] = 0, sum += i; for(int j = 1; j &lt;= n; j ++) { res[j] = (res[j] + dp[id][j]) % mod; dp[id ^ 1][j] = 0; } } for(int i = 1; i &lt;= n; i ++) cout &lt;&lt; res[i] &lt;&lt; &quot; &quot;; cout &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); solve(); return 0; } 1716C - Robot in a Hallway é¢˜ç›®å¤§æ„ï¼š é¢˜è§£ï¼š // Problem: C. Robot in a Hallway // Contest: Codeforces - Educational Codeforces Round 133 (Rated for Div. 2) // URL: https://codeforces.com/problemset/problem/1716/C // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10; int a[2][N], f[2][N]; int n; void solve() { cin &gt;&gt; n; for(int i = 0; i &lt;= 1; i ++) for(int j = 1; j &lt;= n; j ++) cin &gt;&gt; a[i][j]; a[0][1] = -1; f[0][n] = a[0][n], f[1][n] = a[1][n]; for(int i = 0; i &lt;= 1; i ++) for(int j = n - 1; j &gt;= 1; j --) f[i][j] = max(f[i][j + 1] - 1, a[i][j]); f[0][n] = max(a[1][n] - 1, a[0][n]); f[1][n] = max(a[0][n] - 1, a[1][n]); for(int i = 0; i &lt;= 1; i ++) for(int j = n - 1; j &gt;= 1; j --) f[i][j] = max(f[i][j + 1] - 1, max(a[i][j], a[i ^ 1][j] - 2 * (n - j) - 1)); int res = f[0][1] + 2 * n, rec = a[1][1] + 1;; for(int i = 2, p = 1; i &lt;= n; i ++, p ^= 1) { res = min(res, rec + (f[p][i] - rec &gt; 0 ? f[p][i] - rec : 0ll) + 2 * (n - i + 1)); rec = max(rec + 1, a[p][i] + 1); rec = max(rec + 1, a[p ^ 1][i] + 1); } res = min(res, rec); cout &lt;&lt; res &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1700D -River Locks é¢˜ç›®å¤§æ„ï¼š é¢˜è§£ï¼š // Problem: D.River Locks // Contest: Codeforces - Codeforces Round #802 (Div. 2) // URL: https://codeforces.com/problemset/problem/1700/D // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10; int a[N], s[N]; int n, q; void solve() { cin &gt;&gt; n; double mmax = 0; for(int i = 1; i &lt;= n; i ++) { cin &gt;&gt; a[i]; s[i] = s[i - 1] + a[i]; mmax = max(mmax, (double)s[i] / i); } cin &gt;&gt; q; while(q --) { int x; cin &gt;&gt; x; if(mmax - x &gt; 1e-7) { cout &lt;&lt; &quot;-1&quot; &lt;&lt; endl; continue; } cout &lt;&lt; (s[n] + x - 1) / x &lt;&lt; endl; } } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); solve(); return 0; } 1695C - Zero Path é¢˜ç›®å¤§æ„ï¼š é¢˜è§£ï¼š // Problem: C. Zero Path // Contest: Codeforces - Codeforces Round #801 (Div. 2) and EPIC Institute of Technology Round // URL: https://codeforces.com/problemset/problem/1695/C // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 1010, INF = 0x3f3f3f3f; int a[N][N]; int pd[N][N]; int dp[N][N]; void solve() { int n, m; cin &gt;&gt; n &gt;&gt; m; for(int i = 1; i &lt;= n; i ++) for(int j = 1; j &lt;= m; j ++) cin &gt;&gt; a[i][j]; if((n + m - 1) &amp; 1) { cout &lt;&lt; &quot;NO&quot; &lt;&lt; endl; return ; } int h = (n + m - 1) / 2; dp[1][1] = (a[1][1] == 1); for(int i = 1; i &lt;= n; i ++) for(int j = 1; j &lt;= m; j ++) dp[i][j] = max(dp[i - 1][j], dp[i][j - 1]) + (a[i][j] == 1); for(int i = 2; i &lt;= n; i ++) pd[i][0] = INF; for(int i = 2; i &lt;= m; i ++) pd[0][i] = INF; for(int i = 1; i &lt;= n; i ++) for(int j = 1; j &lt;= m; j ++) pd[i][j] = min(pd[i - 1][j], pd[i][j - 1]) + (a[i][j] == 1); if(h &gt;= pd[n][m] &amp;&amp; h &lt;= dp[n][m]) cout &lt;&lt; &quot;YES&quot; &lt;&lt; endl; else cout &lt;&lt; &quot;NO&quot; &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1592C - Bakry and Partitioning é¢˜ç›®å¤§æ„ï¼š é¢˜è§£ï¼š // Problem: C. Bakry and Partitioning // Contest: Codeforces - Codeforces Round #746 (Div. 2) // URL: https://codeforces.com/problemset/problem/1592/C // Memory Limit: 256 MB // Time Limit: 1000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10, M = N * 2; int h[N], e[M], ne[M], w[N], idx; int n, k; int dp[N]; bool v[N]; void add(int a, int b) { e[idx] = b; ne[idx] = h[a]; h[a] = idx ++; } void dfs(int u, int val) { dp[u] = w[u]; for(int i = h[u]; ~i; i = ne[i]) { int j = e[i]; if(v[j]) continue; v[j] = true; dfs(j, val); if(dp[j] != val) dp[u] ^= dp[j]; } } void solve() { cin &gt;&gt; n &gt;&gt; k; memset(v, 0, sizeof v); idx = 0; int sum = 0; for(int i = 1; i &lt;= n; i ++) { h[i] = -1; dp[i] = 0; cin &gt;&gt; w[i]; sum ^= w[i]; } for(int i = 1; i &lt;= n - 1; i ++) { int a, b; cin &gt;&gt; a &gt;&gt; b; add(a, b); add(b, a); } if(sum == 0) { cout &lt;&lt; &quot;YES&quot; &lt;&lt; endl; return; } else if(k == 2) { cout &lt;&lt; &quot;NO&quot; &lt;&lt; endl; return; } dfs(1, sum); int cnt = 0; for(int i = 1; i &lt;= n; i ++) cnt += dp[i] == sum; if(cnt &gt;= 2) cout &lt;&lt; &quot;YES&quot; &lt;&lt; endl; else cout &lt;&lt; &quot;NO&quot; &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1454 - E Number of Simple Paths é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€é¢—åŸºç¯æ ‘ï¼Œæ±‚åŸºç¯æ ‘ä¸­é•¿åº¦å¤§äºç­‰äº111çš„ä¸åŒç®€å•è·¯å¾„çš„æ•°é‡ é¢˜è§£: // Problem: E. Number of Simple Paths // Contest: Codeforces - Codeforces Round #686 (Div. 3) // URL: https://codeforces.com/problemset/problem/1454/E // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #include&lt;queue&gt; #define int long long using namespace std; const int N = 2e5 + 10, M = N * 2; int h[N], e[M], ne[M], idx; int siz[N]; int n; bool v[N]; int d[N]; void add(int a, int b) { e[idx] = b; ne[idx] = h[a]; h[a] = idx ++; } void topsort() { queue&lt;int&gt; q; for(int i = 1; i &lt;= n; i ++) if(d[i] == 1) q.push(i); while(q.size()) { int t = q.front(); q.pop(); for(int i = h[t]; ~i; i = ne[i]) { int j = e[i]; if(-- d[j] == 1) q.push(j); } } } void dfs(int u, int fa) { siz[u] = 1; for(int i = h[u]; ~i; i = ne[i]) { int j = e[i]; if(j != fa) { dfs(j, u); siz[u] += siz[j]; } } } void solve() { cin &gt;&gt; n; int res = 0, t = 0;; for(int i = 1; i &lt;= n; i ++) { h[i] = -1; v[i] = 0; siz[i] = 0; idx = 0; d[i] = 0; } for(int i = 1; i &lt;= n; i ++) { int a, b; cin &gt;&gt; a &gt;&gt; b; add(a, b); add(b, a); d[a] ++; d[b] ++; } topsort(); for(int i = 1; i &lt;= n; i ++) if(d[i] &gt; 1) v[i] = true; for(int i = 1; i &lt;= n; i ++) { if(v[i]) { t = 0; for(int j = h[i]; ~j; j = ne[j]) { int p = e[j]; if(!v[p]) { dfs(p, i); t += siz[p]; } } res += t; res += t * (t - 1) / 2; } } cout &lt;&lt; n * (n - 1) - res &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1619G - Unusual Minesweeper é¢˜ç›®å¤§æ„ï¼š é¢˜è§£ï¼š // Problem: G. Unusual Minesweeper // Contest: Codeforces - Codeforces Round #762 (Div. 3) // URL: https://codeforces.com/problemset/problem/1619/G // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10, INF = 1e18; typedef pair&lt;int, int&gt; PII; int n, k; pair&lt;pair&lt;int, int&gt;, int&gt; poi[N]; int p[N], t[N]; int res[N]; int x, y, id, l, i, ii, nn; int find(int x) { if(p[x] != x) p[x] = find(p[x]); return p[x]; } void solve() { cin &gt;&gt; n &gt;&gt; k; for(i = 1; i &lt;= n; i ++) { cin &gt;&gt; x &gt;&gt; y &gt;&gt; t[i]; poi[i] = {{x, y}, i}; p[i] = i; } for(ii = 0; ii &lt; 2; ii ++) { sort(poi + 1, poi + 1 + n); for(i = 1; i &lt;= n; i ++) { y = poi[i].first.first; x = poi[i].first.second; id = poi[i].second; if(i &gt; 1 &amp;&amp; y == poi[i - 1].first.first &amp;&amp; x - poi[i - 1].first.second &lt;= k) { l = poi[i - 1].second; t[find(id)] = min(t[find(id)], t[find(l)]); p[find(l)] = find(id); } } for(int i = 1; i &lt;= n; i ++) swap(poi[i].first.first, poi[i].first.second); } nn = 0; for(i = 1; i &lt;= n; i ++) { if(find(i) == i) { nn ++; res[nn] = t[i]; } } sort(res + 1, res + nn + 1, greater&lt;int&gt; ()); res[nn + 1] = -INF; for(i = 1; i &lt;= nn; i ++) if(res[i + 1] &lt;= i - 1) break; cout &lt;&lt; i - 1 &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1728D - Letter Picking é¢˜ç›®å¤§æ„ï¼š é¢˜è§£ï¼š // Problem: D. Letter Picking // Contest: Codeforces - Educational Codeforces Round 135 (Rated for Div. 2) // URL: https://codeforces.com/problemset/problem/1728/D // Memory Limit: 512 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; void solve() { string s; cin &gt;&gt; s; s = '_' + s; int n = s.size() - 1; int i = 1, j = n; while(i &lt; j) { if(s[i] == s[j]) { i ++, j --; } else break; } while(i &lt; j) { if(s[i] == s[i + 1]) i += 2; else if(s[j] == s[j - 1]) j -= 2; else break; } if(i &lt; j) cout &lt;&lt; &quot;Alice&quot; &lt;&lt; endl; else cout &lt;&lt; &quot;Draw&quot; &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1722F - L-shapes é¢˜ç›®å¤§æ„ï¼š é¢˜è§£ï¼šè‹¥ä¸€ä¸ªç‚¹æ˜¯Lå½¢çš„ä¸€éƒ¨åˆ†ï¼Œå…ˆç”¨BFSå››è¿é€šæ‰¾æ­¤è¿é€šå—æ˜¯å¦æ˜¯Lå½¢ï¼Œå†æ‰¾æ­¤ç‚¹çš„å…«è¿é€šçœ‹æ˜¯å¦åªæœ‰ä¸¤ä¸ªLå½¢çš„ä¸€éƒ¨åˆ†ï¼Œè‹¥ä¸æ˜¯ï¼Œåˆ™ä¸åˆæ³•ã€‚ // Problem: F. L-shapes // Contest: Codeforces - Codeforces Round #817 (Div. 4) // URL: https://codeforces.com/problemset/problem/1722/F // Memory Limit: 256 MB // Time Limit: 1000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #include&lt;queue&gt; #define int long long using namespace std; const int N = 110; char g[N][N]; int n, m; bool v[N][N]; int dx4[4] = {1, -1, 0, 0}, dy4[4] = {0, 0, 1, -1}; int dx8[8] = {1, 1, 1, 0, 0, -1, -1, -1}, dy8[8] = {-1, 0, 1, 1, -1, -1, 0, 1}; int bfs_4(int sx, int sy) //åˆ¤æ–­Lå‹ { if(v[sx][sy]) return 3; int cnt = 0; v[sx][sy] = 1; queue&lt;pair&lt;int, int&gt;&gt; q; q.push({sx, sy}); while(q.size()) { int x = q.front().first, y = q.front().second; q.pop(); cnt ++; for(int i = 0; i &lt; 4; i ++) { int zx = x + dx4[i], zy = y + dy4[i]; if(zx &amp;&amp; zy &amp;&amp; zx &lt;= n &amp;&amp; zy &lt;= m &amp;&amp; !v[zx][zy] &amp;&amp; g[zx][zy] == '*' &amp;&amp; abs(zx - sx) &lt;= 1 &amp;&amp; abs(zy - sy) &lt;= 1) { v[zx][zy] = 1; q.push({zx, zy}); } } } return cnt; } int bfs_8(int sx, int sy) { int cnt = 0; for(int i = 0; i &lt; 8; i ++) { int zx = sx + dx8[i], zy = sy + dy8[i]; if(zx &amp;&amp; zy &amp;&amp; zx &lt;= n &amp;&amp; zy &lt;= m &amp;&amp; g[zx][zy] == '*') cnt ++; } return cnt; } void solve() { memset(v, 0, sizeof v); cin &gt;&gt; n &gt;&gt; m; for(int i = 1; i &lt;= n; i ++) for(int j = 1; j &lt;= m; j ++) cin &gt;&gt; g[i][j]; for(int i = 1; i &lt;= n; i ++) for(int j = 1; j &lt;= m; j ++) if(g[i][j] == '*') { int cnt4 = bfs_4(i, j); int cnt8 = bfs_8(i, j); if(cnt4 != 3 || cnt8 != 2) { cout &lt;&lt; &quot;NO&quot; &lt;&lt; endl; return ; } } cout &lt;&lt; &quot;YES&quot; &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1647D Madoka and the Best School in Russia é¢˜ç›®å¤§æ„ï¼š å¦‚æœnnnæ˜¯dddçš„å€æ•°ï¼Œåˆ™ç§°nnnä¸ºâ€œå¥½æ•°â€ å¦‚æœnnnæ˜¯å¥½æ•°ä¸”ä¸èƒ½å†™æˆä»»æ„ä¸¤ä¸ªå¥½æ•°ä¹‹ç§¯ï¼Œåˆ™ç§°nnnæ˜¯ç¾ä¸½æ•° Tç»„è¯¢é—®ï¼Œæ¯ç»„è¯¢é—®ç»™å®šä¸¤ä¸ªæ­£æ•´æ•°x,dx,dx,dï¼Œé—®xxxæ˜¯å¦æœ‰è‡³å°‘ä¸¤ç§æ–¹å¼å†™ä¸ºè‡³å°‘ä¸€ä¸ªç¾ä¸½æ•°ä¹‹ç§¯ã€‚å¦‚æœæ˜¯ï¼Œè¾“å‡ºâ€œYESâ€ï¼Œå¦åˆ™è¾“å‡ºâ€œNOâ€ é¢˜è§£ï¼šåˆ†ç±»è®¨è®º ä»¤$x = d^k \\times s ï¼Œå…¶ä¸­ï¼Œå…¶ä¸­ï¼Œå…¶ä¸­k &gt; 0, d | sï¼ˆé¢˜ä¸­ï¼ˆé¢˜ä¸­ï¼ˆé¢˜ä¸­xä¸€å®šæ»¡è¶³æ˜¯ä¸€å®šæ»¡è¶³æ˜¯ä¸€å®šæ»¡è¶³æ˜¯d$çš„å€æ•°ï¼‰ åˆ™kâˆ’1k - 1kâˆ’1ä¸ªdddå’Œä¸€ä¸ªdÃ—sd \\times sdÃ—så³ä¸ºä¸€ç§åˆ†è§£æ–¹æ¡ˆ è€ƒè™‘k=1k = 1k=1ï¼Œåˆ™æ˜¾ç„¶ä¸åˆæ³• æ­¤æ—¶k&gt;1k &gt; 1k&gt;1 â€‹ è‹¥sssä¸ºåˆæ•°ï¼Œåˆ™å°†å…¶åˆ†è§£ä¸ºä¸¤ä¸ªæ•°ï¼Œåˆ†åˆ«ä¹˜åœ¨ä¸¤ä¸ªdddä¸Šï¼Œå¾—åˆ°ç¬¬äºŒç§æ–¹æ¡ˆ æ­¤æ—¶sssä¸ºè´¨æ•°æˆ–111ï¼Œæ˜¾ç„¶åªèƒ½æ‹†ddd â€‹ è‹¥dddä¸ºè´¨æ•°ï¼Œåˆ™dddæ— æ³•æ‹†ï¼Œä¸åˆæ³• â€‹ è‹¥dddå«æœ‰ä¸sssä¸åŒçš„è´¨å› æ•°ï¼Œå°†è¿™ä¸ªè´¨å› å­ä¹˜dddï¼Œå‰©ä¸‹çš„éƒ¨åˆ†ä¸sssä¹˜åœ¨å¦ä¸€ä¸ªdddä¸Šï¼Œå¾—åˆ°ç¬¬äºŒç§æ–¹æ¡ˆï¼Œæ­¤æ—¶éœ€è¦3ä¸ªdddï¼Œå³k&gt;2k &gt; 2k&gt;2 â€‹ è‹¥d=sqd = s^qd=sqä¸”q&gt;1q &gt;1q&gt;1 è‹¥q=2q = 2q=2ï¼Œdddå¯ä»¥æ‹†æˆä¸¤ä¸ªsssï¼Œç„¶åå°†ä¸‰ä¸ªsssä¹˜åœ¨ä¸‰ä¸ªdddä¸Šï¼Œæ­¤æ—¶éœ€è¦4ä¸ªdddï¼Œå³k&gt;3k &gt; 3k&gt;3 è‹¥q&gt;2q &gt; 2q&gt;2ï¼Œåˆ™dddå¯ä»¥æ‹†ä¸ºssså’Œsqâˆ’1s^{q - 1}sqâˆ’1ï¼Œå°†s2s^2s2å’Œsqâˆ’1s^{q - 1}sqâˆ’1ä¹˜åœ¨ä¸€ä¸ªdddä¸Šï¼Œå¾—åˆ°ç¬¬äºŒç§æ–¹æ¡ˆï¼Œæ­¤æ—¶éœ€è¦3ä¸ªdddï¼Œå³k&gt;2k &gt; 2k&gt;2 // Problem: D. Madoka and the Best School in Russia // Contest: Codeforces - Codeforces Round #777 (Div. 2) // URL: https://codeforces.com/problemset/problem/1647/D // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; int x, d, k; bool check(int x) { if(x &lt; 4) return 1; if(x % 2 == 0 || x % 3 == 0) return 0; for(int i = 5; i * i &lt;= x; i += 6) if(x % i == 0 || x % (i + 2) == 0) return 0; return 1; } void solve() { cin &gt;&gt; x &gt;&gt; d; for(k = 0; x % d == 0; k ++, x /= d); if(k &lt; 2) cout &lt;&lt; &quot;NO&quot; &lt;&lt; endl; else if(!check(x)) cout &lt;&lt; &quot;YES&quot; &lt;&lt; endl; else if(check(d)) cout &lt;&lt; &quot;NO&quot; &lt;&lt; endl; else cout &lt;&lt; (k &gt; (x * x == d) + 2 ? &quot;YES&quot; : &quot;NO&quot;) &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 167B - Wizards and Huge Prize é¢˜ç›®å¤§æ„ï¼š æœ€å¼€å§‹ä½ æœ‰kçš„å®¹ç§¯ï¼Œæœ‰nè½®æ¯”èµ›ï¼Œæ¯”èµ›åˆ†ä¸ºä¸¤ç§(å…·ä½“ç§ç±»ç”±è¾“å…¥ç»™å‡º)ï¼Œä¸€ç§çš„å¥–å“æ˜¯å¢åŠ aiå®¹ç§¯ï¼Œå¦ä¸€ç§å¢åŠ ä¸€ä¸ªç‰©å“ï¼Œåªæœ‰åˆ°æœ€åçš„å®¹ç§¯è£…å¾—ä¸‹æ‰€æœ‰èµ¢å¾—çš„ç‰©å“æ‰ç®—åˆæ³•çš„æ–¹æ¡ˆï¼Œé—®èµ¢å¾—çš„æ¯”èµ›æ€»åœºæ•°&gt;=lçš„åˆæ³•æ–¹æ¡ˆçš„æ¦‚ç‡ã€‚ é¢˜è§£ï¼š æœŸæœ›DP å°†ç¬¬äºŒç§å¥–å“çœ‹æˆå®¹ç§¯ä¸ºâˆ’1-1âˆ’1ï¼Œä¹‹åè€ƒè™‘DP dp[i][j][k]dp[i][j][k]dp[i][j][k]è¡¨ç¤ºä»å‰iiiæ¬¡æ¯”èµ›ä¸­è·èƒœkkkæ¬¡ï¼Œå®¹ç§¯ä¸ºkkkæ—¶çš„æ¦‚ç‡ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š å¦‚æœç¬¬i+1i+1i+1åœºæ¯”èµ›è¾“æ‰ï¼Œåˆ™æœ‰dp[i+1][j][k]+=dp[i][j][k]âˆ—(1âˆ’p[i+1])dp[i+1][j][k] += dp[i][j][k] * (1 - p[i + 1])dp[i+1][j][k]+=dp[i][j][k]âˆ—(1âˆ’p[i+1]) å¦‚æœç¬¬i+1i + 1i+1åœºæ¯”èµ›è·èƒœï¼Œåˆ™æœ‰dp[i+1][j+1][k+a[i+1]+=dp[i][j][k]âˆ—p[i+1]dp[i+1][j+1][k+a[i+1] += dp[i][j][k] * p[i + 1]dp[i+1][j+1][k+a[i+1]+=dp[i][j][k]âˆ—p[i+1] AC ä»£ç  // Problem: B. Wizards and Huge Prize // Contest: Codeforces - Codeforces Round #114 (Div. 1) // URL: https://codeforces.com/problemset/problem/167/B // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 210; int n, l, k; double dp[N][N][N * 2]; double res; int a[N]; double p[N]; void work() { dp[0][0][k + 200] = 1; //å°†-1è€ƒè™‘ä¸ºå®¹ç§¯ä¸º-1 for(int i = 0; i &lt; n; i ++) { for(int j = 0; j &lt;= i; j ++) { for(int q = 0; q &lt;= 400; q ++) { int t = min(400ll, q + a[i + 1]); dp[i + 1][j][q] += dp[i][j][q] * (1 - p[i + 1]); if(t &gt;= 0) dp[i + 1][j + 1][t] += dp[i][j][q] * p[i + 1]; } } } } void solve() { cin &gt;&gt; n &gt;&gt; l &gt;&gt; k; for(int i = 1; i &lt;= n; i ++) { cin &gt;&gt; p[i]; p[i] /= 100; } for(int i = 1; i &lt;= n; i ++) cin &gt;&gt; a[i]; work(); for(int i = l; i &lt;= n; i ++) { for(int j = 200; j &lt;= 400; j ++) res += dp[n][i][j]; } printf(&quot;%.10lf\\n&quot;, res); } signed main() { //ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); solve(); return 0; } CF730 - Bottles é¢˜ç›®å¤§æ„ï¼š æœ‰ nnn ç“¶æ°´ï¼Œç¬¬ iii ç“¶æ°´çš„æ°´é‡ä¸º aia_iaiâ€‹ï¼Œå®¹é‡ä¸º bib_ibiâ€‹ã€‚å°† 111 å•ä½æ°´ä»ä¸€ä¸ªç“¶å­è½¬ç§»åˆ°å¦ä¸€ä¸ªç“¶å­æ‰€æ¶ˆè€—æ—¶é—´ä¸º 111 ç§’ï¼Œä¸”å¯ä»¥è¿›è¡Œæ— é™æ¬¡è½¬ç§»ã€‚æ±‚å‚¨å­˜æ‰€æœ‰æ°´æ‰€éœ€æœ€å°ç“¶å­æ•° kkk ä»¥åŠè¯¥æƒ…å†µä¸‹æ‰€ç”¨æœ€å°æ—¶é—´ tttã€‚ é¢˜è§£ï¼š 01èƒŒåŒ… ç¬¬ä¸€é—®ç­”æ¡ˆæ˜¾ç„¶ï¼Œè€ƒè™‘ç¬¬äºŒé—® è®¾dp[i][j][k]dp[i][j][k]dp[i][j][k]ä¸ºå‰iiiä¸ªç“¶å­é‡Œå–kkkä¸ªç“¶å­ï¼Œæ€»å®¹ç§¯ä¸ºjjjçš„æœ€å¤§ä¸å€’å…¥æ¯ä¸­çš„ä½“ç§¯ çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼šdp[i][j][k]=max(dp[iâˆ’1][j][k],dp[iâˆ’1][jâˆ’bi][k]+ai)dp[i][j][k] = max(dp[i - 1][j][k], dp[i - 1][j - b_i][k] + a_i)dp[i][j][k]=max(dp[iâˆ’1][j][k],dp[iâˆ’1][jâˆ’biâ€‹][k]+aiâ€‹) ç¬¬ä¸€ç»´å¯ä»¥æ»šæ‰ï¼Œç­”æ¡ˆå³ä¸ºVsumâˆ’max(dp[j][k])V_{sum} - max(dp[j][k])Vsumâ€‹âˆ’max(dp[j][k]) AC ä»£ç  // Problem: J. Bottles // Contest: Codeforces - 2016-2017 ACM-ICPC, NEERC, Southern Subregional Contest (Online Mirror, ACM-ICPC Rules, Teams Preferred) // URL: https://codeforces.com/problemset/problem/730/J // Memory Limit: 512 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; using namespace std; typedef pair&lt;int, int&gt; PII; const int N = 110; int res, sum1, sum2; int n; int dp[N * N][N]; PII a[N]; int k; bool cmp(PII a, PII b) { return a.second &gt; b.second; } void work() { memset(dp, 128, sizeof dp); dp[0][0] = 0; for(int i = 1; i &lt;= n; i ++) for(int j = sum2; j &gt;= a[i].second; j --) for(int p = 1; p &lt;= k; p ++) dp[j][p] = max(dp[j][p], dp[j - a[i].second][p - 1] + a[i].first); for(int i = sum1; i &lt;= sum2; i ++) res = max(res, dp[i][k]); cout &lt;&lt; sum1 - res &lt;&lt; endl; } void solve() { cin &gt;&gt; n; for(int i = 1; i &lt;= n; i ++) { cin &gt;&gt; a[i].first; sum1 += a[i].first; } for(int i = 1; i &lt;= n; i ++) { cin &gt;&gt; a[i].second; } sort(a + 1, a + n + 1, cmp); while(sum2 &lt; sum1) sum2 += a[++ k].second; cout &lt;&lt; k &lt;&lt; &quot; &quot;; work(); } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); solve(); return 0; }","categories":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://memsetray.github.io/categories/é¢˜è§£/"}],"tags":[],"keywords":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://memsetray.github.io/categories/é¢˜è§£/"}]},{"title":"3åˆ†é’Ÿäº†è§£çŒ«å®«Hinataçš„FPS","slug":"3åˆ†é’Ÿäº†è§£çŒ«å®«Hinataçš„FPS","date":"2022-09-06T12:16:05.000Z","updated":"2022-09-06T12:22:54.473Z","comments":true,"path":"2022/09/06/3åˆ†é’Ÿäº†è§£çŒ«å®«Hinataçš„FPS/","link":"","permalink":"https://memsetray.github.io/2022/09/06/3åˆ†é’Ÿäº†è§£çŒ«å®«Hinataçš„FPS/","excerpt":"","text":"çŒ«å®«èµ›é«˜ï¼","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://memsetray.github.io/categories/éšæƒ³/"}],"tags":[],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://memsetray.github.io/categories/éšæƒ³/"}]},{"title":"éšæƒ³test","slug":"éšæƒ³test","date":"2022-09-05T14:54:56.000Z","updated":"2022-09-05T14:57:17.992Z","comments":true,"path":"2022/09/05/éšæƒ³test/","link":"","permalink":"https://memsetray.github.io/2022/09/05/éšæƒ³test/","excerpt":"","text":"ä¸ºä»€ä¹ˆæˆ‘FPSç©çš„è¿™ä¹ˆèœï¼ï¼ï¼ï¼","categories":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://memsetray.github.io/categories/éšæƒ³/"}],"tags":[],"keywords":[{"name":"éšæƒ³","slug":"éšæƒ³","permalink":"https://memsetray.github.io/categories/éšæƒ³/"}]},{"title":"CodeForces1500-1600éƒ¨åˆ†é¢˜é¢˜è§£","slug":"CodeForces1500-1600éƒ¨åˆ†é¢˜é¢˜è§£","date":"2022-09-05T04:02:58.000Z","updated":"2022-09-05T14:53:15.719Z","comments":true,"path":"2022/09/05/CodeForces1500-1600éƒ¨åˆ†é¢˜é¢˜è§£/","link":"","permalink":"https://memsetray.github.io/2022/09/05/CodeForces1500-1600éƒ¨åˆ†é¢˜é¢˜è§£/","excerpt":"","text":"Codeforces 1500 - 1600éš¾åº¦ç¬”è®° 1675E- Replace With the Previous, Minimize ç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnçš„å­—ç¬¦ä¸²ï¼Œæœ‰kæ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥é€‰ä¸€ä¸ªå­—æ¯ï¼Œè®©æ‰€æœ‰è¯¥å­—æ¯å˜æˆå­—å…¸åºçš„å‰ä¸€ä¸ªå­—æ¯ï¼Œæ±‚èƒ½å¤Ÿé€šè¿‡kæ¬¡æ“ä½œå¾—åˆ°çš„æœ€å°å­—å…¸åºã€‚ è´ªå¿ƒï¼Œç»´æŠ¤ä¸€ä¸ªmax_idxè¡¨ç¤ºä»aåˆ°a + max_idxä¸­çš„å­—æ¯éƒ½å¯ä»¥é€šè¿‡max_idxæ¬¡æ“ä½œè½¬åŒ–ä¸ºa å¦‚æœå½“å‰å­—æ¯è½¬æ¢ä¸ºaçš„æ“ä½œæ•° â‰¤k\\leq kâ‰¤k ,åˆ™ç›´æ¥æ›´æ–°max_idx å¦‚æœå½“å‰å­—æ¯è½¬æ¢ä¸ºaçš„æ“ä½œæ•°&gt;k&gt; k&gt;kï¼Œåˆ™è¯¥å­—æ¯æœ€å¤šåªèƒ½è¿›è¡Œkâˆ’midxk - midxkâˆ’midxæ¬¡æ“ä½œï¼Œè®¾å½“å‰å­—æ¯ä¸ºsssï¼Œåˆ™sâˆ’(kâˆ’midx)s-(k - midx)sâˆ’(kâˆ’midx) åˆ°sssåŒºé—´å†…çš„å­—æ¯éƒ½å¯ä»¥è½¬åŒ–ä¸ºsâˆ’(kâˆ’midx)s - (k - midx)sâˆ’(kâˆ’midx)ï¼Œå› æ­¤ç›´æ¥å°†å…¶è½¬åŒ–ä¸ºsâˆ’(kâˆ’midx)s - (k - midx)sâˆ’(kâˆ’midx) // Problem: E. Replace With the Previous, Minimize // Contest: Codeforces - Codeforces Round #787 (Div. 3) // URL: https://codeforces.com/problemset/problem/1675/E // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10; void solve() { int n, k; cin &gt;&gt; n &gt;&gt; k; string s; cin &gt;&gt; s; int max_idx = 0; for(int i = 0; i &lt; s.size(); i ++) { int t = s[i] - 'a'; if(t &lt;= k) max_idx = max(max_idx, t); else { char min_c = s[i] - k + max_idx; char max_c = s[i]; for(int j = 0; j &lt; s.size(); j ++) { if(min_c &lt;= s[j] &amp;&amp; s[j] &lt;= max_c) s[j] = min_c; } break; } } for(int i = 0; i &lt; s.size(); i ++) { if(s[i] - 'a' &lt;= max_idx) s[i] = 'a'; } cout &lt;&lt; s &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1673C- Palindrome Basis ç»™å®šä¸€ä¸ªæ•°nï¼Œé—®æœ‰å¤šå°‘ç§æ‹¼æ³•æ»¡è¶³nå¯ä»¥è¢«è‹¥å¹²å›æ–‡æ•°æ‹¼æˆ å›æ–‡æ•°æŒ‡æ­£ç€çœ‹å’Œå€’ç€çœ‹çš„å€¼ç›¸åŒçš„æ•° 1â‰¤nâ‰¤400001 \\leq n \\leq 400001â‰¤nâ‰¤40000 é¦–å…ˆè§‚å¯Ÿåˆ°nçš„å€¼åŸŸå¾ˆå°ï¼Œç›´è§‰ä¸Šå‘Šè¯‰æˆ‘ä»¬40000ä»¥å†…çš„å›æ–‡æ•°æ•°é‡ä¸å¤šï¼ˆäº‹å®ä¸Šåªæœ‰500ä¸ªå·¦å³ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å…ˆå°†nä»¥å†…çš„å›æ–‡æ•°é¢„å¤„ç†å‡ºæ¥ã€‚ å‰©ä¸‹çš„é—®é¢˜å°±æ˜¯ï¼Œå¦‚ä½•å°†nç”¨å›æ–‡æ•°æ‹¼å‡ºæ¥ï¼Œè¿™æ˜¯ä¸€ä¸ªç»å…¸çš„DPé—®é¢˜ è®¾dp[i][j]è¡¨ç¤ºä»å‰iä¸ªå›æ–‡æ•°ä¸­é€‰ï¼Œæ‹¼æˆçš„æ•°ä¸ºjçš„æ–¹æ¡ˆæ•° äºæ˜¯çŠ¶æ€è½¬ç§»æ–¹ç¨‹éå¸¸æ˜¾ç„¶ï¼š dp[i][j]=dp[iâˆ’1][j]+dp[i][jâˆ’p[i]]dp[i][j] = dp[i - 1][j] + dp[i][j - p[i]]dp[i][j]=dp[iâˆ’1][j]+dp[i][jâˆ’p[i]] å…¶ä¸­p[i]è¡¨ç¤ºçš„æ˜¯ç¬¬iä¸ªå›æ–‡æ•°æ˜¯å¤šå°‘ è¾¹ç•Œï¼šâˆ‘i=1Mâˆ’1dp[i][0]=1\\sum_{i=1}^{M - 1}dp[i][0] = 1âˆ‘i=1Mâˆ’1â€‹dp[i][0]=1ï¼Œå…¶ä¸­M - 1ä¸ºå›æ–‡æ•°çš„ä¸ªæ•° ç›®æ ‡ï¼šdp[Mâˆ’1][n]dp[M - 1][n]dp[Mâˆ’1][n] // Problem: C. Palindrome Basis // Contest: Codeforces - Codeforces Round #785 (Div. 2) // URL: https://codeforces.com/problemset/problem/1673/C // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 4e4 + 10, M = 510, mod = 1e9 + 7; int dp[510][N]; vector&lt;int&gt; p; int reverse_i(int a) { int res = 0; while(a &gt; 0) { res = res * 10 + a % 10; a /= 10; } return res; } void init() { p.push_back(0); for(int i = 1; i &lt; N; i ++) { if(reverse_i(i) == i) p.push_back(i); } } void solve() { for(int i = 1; i &lt; M; i ++) dp[i][0] = 1; for(int i = 1; i &lt; M; i ++) { for(int j = 1; j &lt; N; j ++) { if(p[i] &lt;= j) dp[i][j] = (dp[i - 1][j] + dp[i][j - p[i]]) % mod; else dp[i][j] = dp[i - 1][j]; } } } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; init(); solve(); while(T --) { int n; cin &gt;&gt; n; cout &lt;&lt; dp[M - 1][n] % mod &lt;&lt; endl; } return 0; } 1665C- Tree Infection ç»™å®šä¸€ä¸ªnä¸ªèŠ‚ç‚¹çš„æ•°ï¼Œä¸€å¼€å§‹nä¸ªèŠ‚ç‚¹éƒ½æ˜¯å¥åº·çš„ï¼Œæ¯ç§’å¯ä»¥è¿›è¡Œä¸¤ç§æ“ä½œ é€‰å®šä¸€ä¸ªèŠ‚ç‚¹ï¼Œå°†å…¶æ„ŸæŸ“ å¦‚æœèŠ‚ç‚¹væœ‰ä¸€ä¸ªå­èŠ‚ç‚¹è¢«æ„ŸæŸ“ï¼Œé‚£ä¹ˆå°†ä¼ æ’­åˆ°å¦ä¸€ä¸ªå­èŠ‚ç‚¹ æ±‚å°†æ‰€æœ‰èŠ‚ç‚¹ä¼ æŸ“æ‰€éœ€çš„æœ€å°ç§’æ•° é€šè¿‡è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œä»»æ„ä¸¤ä¸ªä¸åŒçš„èŠ‚ç‚¹ï¼Œå®ƒä»¬çš„å­èŠ‚ç‚¹äº’ç›¸ç‹¬ç«‹ï¼Œæˆ‘ä»¬åªå…³å¿ƒæ¯ä¸ªèŠ‚ç‚¹æœ‰å¤šå°‘ä¸ªå„¿å­ã€‚ äºæ˜¯é—®é¢˜ç®€åŒ–ä¸ºï¼šç»™å®škä¸ªæ•°ï¼Œæ¯ä¸ªæ•°è¡¨ç¤ºè¯¥èŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡ï¼Œæ¯ç§’æ‰€æœ‰æ•°å‡å°‘1ï¼Œå¹¶ä¸”ä½ å¯ä»¥é¢å¤–é€‰æ‹©ä¸€ä¸ªæ•°ä½¿å…¶å‡å°‘1ï¼Œæ±‚è‡³å°‘éœ€è¦å¤šå°‘ç§’ä½¿å¾—æ•°ç»„ä¸­æ‰€æœ‰æ•°å°äºç­‰äº0 é¦–å…ˆé¢„å¤„ç†å‡ºæ¯ä¸ªèŠ‚ç‚¹çš„å­èŠ‚ç‚¹æ•°é‡ï¼Œå°†å…¶ä»å¤§åˆ°å°æ’åºå¹¶æ’é™¤æ‰€æœ‰çš„0, æ­¤æ—¶æ ¹æ®è´ªå¿ƒï¼Œæˆ‘ä»¬åº”è¯¥ä»å¤§åˆ°å°å°†æ‰€æœ‰å­æ ‘å…ˆæ„ŸæŸ“ä¸€éï¼Œç„¶åå†æ¬¡ä»å¤§åˆ°å°æ’åºå¹¶æ’é™¤æ‰€æœ‰å°äºç­‰äº0çš„æ•° ä¹‹åï¼Œæˆ‘ä»¬æ¯æ¬¡éœ€è¦å°†æ•°ç»„ä¸­çš„æ‰€æœ‰æ•°å‡1ï¼Œå¹¶é¢å¤–é€‰æ‹©ä¸€ä¸ªæ•°å‡1ï¼Œæ˜¾ç„¶æ¯æ¬¡é¢å¤–é€‰æ‹©éƒ½åº”è¯¥é€‰æ•°ç»„ä¸­æœ€å¤§çš„æ•°ï¼Œæˆ‘ä»¬ä¸æ–­æ¨¡æ‹Ÿè¿™ä¸ªè¿‡ç¨‹ï¼Œå¹¶ä¸”æ¯æ¬¡è®°å½•æœ€å¤§å€¼æœ€åå‡ºç°ä¸‹æ ‡lastï¼Œé¢å¤–æ“ä½œå°±åº”å½“é€‰æ‹©lastå¯¹åº”çš„æ•°ï¼Œè¿™æ ·å¯ä»¥ä¿è¯åºåˆ—å§‹ç»ˆä¸ºå•è°ƒé€’å‡ã€‚ // Problem: C. Tree Infection // Contest: Codeforces - Codeforces Round #781 (Div. 2) // URL: https://codeforces.com/problemset/problem/1665/C // Memory Limit: 256 MB // Time Limit: 1000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10, M = N * 2; int n; int res; void calc(vector&lt;int&gt; a) { if(a.empty()) return; int n = a.size(); int last = 0; for(int i = 0; i &lt; n; i ++) { if(a[i] == a[0]) last = i; else break; } -- a[last]; for(int i = 0; i &lt; n; i ++) a[i] --; res ++; while(a.size() &amp;&amp; a.back() &lt;= 0) a.pop_back(); calc(a); } void solve() { cin &gt;&gt; n; vector&lt;int&gt; a(n); for(int i = 1; i &lt; n; i ++) { int x; cin &gt;&gt; x; a[-- x] ++; } a.push_back(1); sort(a.begin(), a.end(), greater&lt;int&gt;()); while(a.size() &amp;&amp; a.back() &lt;= 0) a.pop_back(); n = a.size(); res = 0; for(int i = 0; i &lt; n; i ++) { a[i] = a[i] - (n - i); res ++; } sort(a.begin(), a.end(), greater&lt;int&gt;()); while(a.size() &amp;&amp; a.back() &lt;= 0) a.pop_back(); calc(a); cout &lt;&lt; res &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1671D- Insert a Progression ç»™å®šä¸€ä¸ªæ•°ç»„aï¼Œå†ç»™å‡ºxä¸ªæ­£æ•´æ•°1-x å°†è¿™xä¸ªæ•°æ’å…¥åˆ°æ•°ç»„aä¸­ï¼ˆå¯ä»¥æ’å…¥åˆ°ä»»ä½•ä¸€ä¸ªä½ç½®ï¼ŒåŒ…æ‹¬è¾¹ç•Œï¼‰å¾—åˆ°aâ€˜ aâ€™çš„ä»£ä»·ä¸ºæ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ å·®çš„ç»å¯¹å€¼ä¹‹å’Œï¼Œæ±‚aâ€™çš„æœ€å°ä»£ä»· è¿™é“é¢˜æœ€é‡è¦çš„æ˜¯è§‚å¯Ÿå‡ºç»“è®ºï¼šè®¾åŸæ•°ç»„æœ€å¤§å€¼ä¸ºaï¼Œæœ€å°å€¼ä¸ºbï¼Œä¸€å®šå­˜åœ¨ä¸€ç§æ’å…¥æ–¹å¼ï¼Œä½¿å¾—æ•°ç»„aâ€™ä¸­æ’å…¥äº†å¤§å°ä¸º[a,b]çš„æ‰€æœ‰æ•°ï¼Œä¸”æ»¡è¶³ä»£ä»·ä¸å˜ã€‚ ä¸€ç§æ¯”è¾ƒå¥½ç†è§£çš„æ–¹å¼æ˜¯ï¼šå‡è®¾åŸæ•°ç»„aä¸­å­˜åœ¨ç›¸é‚»çš„ä¸¤ä¸ªæ•°axa_xaxâ€‹,aya_yayâ€‹,ä¸å¦¨è®¾ax&lt;aya_x &lt; a_yaxâ€‹&lt;ayâ€‹,é‚£ä¹ˆæˆ‘ä»¬å¯ä»¥å°è¯•åœ¨è¿™ä¸¤ä¸ªæ•°ä¹‹é—´æ’å…¥ayâˆ’axâˆ’1a_y - a_x - 1ayâ€‹âˆ’axâ€‹âˆ’1ä¸ªæ­£æ•´æ•°ï¼Œè€Œä»£ä»·ä¸å˜ï¼Œå› æ­¤æ‰€æœ‰åœ¨æœ€å€¼èŒƒå›´å†…çš„æ•°éƒ½å¯ä»¥èµ·åˆ°â€œæ¡¥æ¢â€çš„ä½œç”¨ã€‚ å› æ­¤æˆ‘ä»¬éœ€è¦å…ˆç®—å‡ºåŸæ•°ç»„çš„ä»£ä»·tï¼Œç„¶ååªéœ€è¦çœ‹æœ€å€¼æ‰€è¦†ç›–çš„åŒºé—´æ˜¯å¦å®Œå…¨åŒ…å«åŒºé—´[1,x] å¦‚æœå®Œå…¨è¦†ç›–ï¼Œåˆ™ç­”æ¡ˆä¸ºtï¼Œå¦åˆ™è€ƒè™‘å‰©ä¸‹çš„æ•°å¦‚ä½•æ”¾ç½® å®¹æ˜“å‘ç°ï¼Œé™¤äº†1å’Œxï¼Œå‰©ä¸‹çš„æ‰€æœ‰æ•°éƒ½æ˜¯â€œæ¡¥æ¢â€ï¼Œå¯¹ç­”æ¡ˆæ²¡æœ‰å½±å“ï¼Œå› æ­¤æˆ‘ä»¬åªéœ€è¦æšä¸¾1å’Œxå‡ºç°çš„ä½ç½®ï¼Œå–æœ€å°å€¼å³å¯ã€‚ // Problem: D. Insert a Progression // Contest: Codeforces - Educational Codeforces Round 127 (Rated for Div. 2) // URL: https://codeforces.com/problemset/problem/1671/D // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10; int a[N]; int n, x; void solve() { cin &gt;&gt; n &gt;&gt; x; memset(a, 0, sizeof a); int res = 0; for(int i = 1; i &lt;= n; i ++) { cin &gt;&gt; a[i]; if(i &gt; 1) res += abs(a[i] - a[i - 1]); } int max_num = 0, min_num = 0x3f3f3f3f; for(int i = 1; i &lt;= n; i ++) { if(a[i] &gt; max_num) max_num = a[i]; if(a[i] &lt; min_num) min_num = a[i]; } if(x &gt; max_num) { if(n == 1) { res += x - a[1]; } else { int plus = 0x3f3f3f3f; for(int i = 1; i &lt; n; i ++) { plus = min(plus, x - a[i] + x - a[i + 1] - abs(a[i + 1] - a[i])); } plus = min(plus, min(x - a[n], x - a[1])); res += plus; } } if(min_num != 1) { if(n == 1) { res += a[1] - 1; } else { int plus = 0x3f3f3f3f; for(int i = 1; i &lt; n; i ++) { plus = min(plus, a[i] - 1 + a[i + 1] - 1 - abs(a[i + 1] - a[i])); } plus = min(plus, min(a[n] - 1, a[1] - 1)); res += plus; } } cout &lt;&lt; res &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1659C- Line Empire ä½ æ˜¯ä¸€ä¸ªå›½ç‹ï¼Œä½ æœ‰nä¸ªå›½å®¶éœ€è¦å é¢†ï¼Œèµ·åˆä½ çš„é¦–éƒ½åœ¨0ä½ç½®å¤„ï¼Œç°åœ¨ä½ æœ‰ä¸¤ç§æ“ä½œï¼š å°†ä¸€ä¸ªå·²ç»è¢«å é¢†çš„å›½å®¶è§†ä¸ºé¦–éƒ½ï¼Œä»£ä»·ä¸ºaâˆ—âˆ£c1âˆ’c2âˆ£a *|c_1 - c_2|aâˆ—âˆ£c1â€‹âˆ’c2â€‹âˆ£ å é¢†ä¸€ä¸ªæœªè¢«å é¢†çš„å›½å®¶ï¼Œå‰ææ˜¯è¿™ä¸ªå›½å®¶ä¸é¦–éƒ½ä¹‹é—´çš„æ‰€æœ‰å›½å®¶éƒ½è¢«å é¢†ï¼Œä»£ä»·ä¸ºbâˆ—âˆ£c1âˆ’c2âˆ£b * |c_1 - c_2|bâˆ—âˆ£c1â€‹âˆ’c2â€‹âˆ£ å…¶ä¸­c1,c2c_1,c_2c1â€‹,c2â€‹ä¸ºä¸¤ä¸ªå›½å®¶çš„ä½ç½®ï¼Œæ±‚å é¢†æ‰€æœ‰å›½å®¶æ‰€éœ€è¦çš„æœ€å°ä»£ä»·ï¼Œæœ€ç»ˆé¦–éƒ½å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ã€‚ å¯¹äºæ¯ä¸ªå‡ºç°è¿‡çš„ä½ç½®ï¼ˆåŒ…æ‹¬0ï¼‰æˆ‘ä»¬éƒ½å¯ä»¥é¢„å¤„ç†å‡ºå‰ç¼€å’Œsumä»¥åŠä¸¤ä¸ªæ•°ç»„ï¼š ä»¥è¯¥ä½ç½®ä¸ºé¦–éƒ½ï¼Œä¹‹åçš„æ‰€æœ‰å›½å®¶éƒ½é‡‡ç”¨ç›´æ¥å é¢†æ‰€éœ€è¦çš„èŠ±è´¹back[i]back[i]back[i] åœ¨è¯¥ä½ç½®ä¹‹å‰ï¼Œé€šè¿‡äº¤æ›¿è¿›è¡Œå é¢†å’Œæ›¿æ¢é¦–éƒ½ä½¿å¾—è¯¥ä½ç½®æˆä¸ºé¦–éƒ½æ‰€éœ€è¦çš„èŠ±è´¹pre[i]pre[i]pre[i] å…¶ä¸­back[i]=(sum[n]âˆ’sum[i]âˆ’(nâˆ’i)âˆ—x[i])âˆ—bback[i] = (sum[n] - sum[i] - (n - i) * x[i]) * bback[i]=(sum[n]âˆ’sum[i]âˆ’(nâˆ’i)âˆ—x[i])âˆ—b pre[i]=x[i]âˆ—(a+b)pre[i] = x[i] * (a + b)pre[i]=x[i]âˆ—(a+b) æšä¸¾æ‰€æœ‰çš„ä½ç½®ï¼Œç­”æ¡ˆå³ä¸ºmin(pre[i]+back[i])min(pre[i] + back[i])min(pre[i]+back[i]) ä¸ºä»€ä¹ˆäº¤æ›¿è¿›è¡Œæ“ä½œçš„æ–¹å¼ä¸€å®šæ˜¯æœ€ä¼˜çš„ï¼šå¦‚æœæˆ‘ä»¬å¹¶æ²¡æœ‰é‡‡ç”¨äº¤æ›¿çš„æ–¹å¼è¿›è¡Œæ“ä½œï¼Œå°±ä¸€å®šä¼šè¿ç»­è¿›è¡Œè‹¥å¹²æ¬¡å é¢†æ“ä½œï¼Œä¹‹åä»ç„¶è¦é€šè¿‡æ›¿æ¢æ“ä½œä½¿å¾—é¦–éƒ½åˆ°è¾¾ç›®æ ‡ä½ç½®ï¼Œæ˜¾ç„¶è¿›è¡Œäº†å¤šä½™çš„å é¢†æ“ä½œï¼Œä»£ä»·å˜å¤§ã€‚ // Problem: C. Line Empire // Contest: Codeforces - Codeforces Round #782 (Div. 2) // URL: https://codeforces.com/problemset/problem/1659/C // Memory Limit: 256 MB // Time Limit: 1000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10; int n, a, b; int x[N]; int sum[N]; int back[N]; int pre[N]; void solve() { cin &gt;&gt; n &gt;&gt; a &gt;&gt; b; for(int i = 1; i &lt;= n; i ++) cin &gt;&gt; x[i]; for(int i = 1; i &lt;= n; i ++) { sum[i] = sum[i - 1] + x[i]; } for(int i = 0; i &lt;= n; i ++) { pre[i] = x[i] * (a + b); back[i] = (sum[n] - sum[i] - (n - i) * x[i]) * b; } int res = 1e18; for(int i = 0; i &lt;= n; i ++) { res = min(res, pre[i] + back[i]); } cout &lt;&lt; res &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1658D1- 388535 (Easy Version) ç»™å®šä¸€ä¸ªåŒºé—´[l,r][l,r][l,r]ï¼Œå·²çŸ¥åŸæ•°ç»„æ˜¯[l,r][l,r][l,r]çš„æ’åˆ—ï¼Œç°åœ¨ç»™å‡ºåŸæ•°ç»„å¼‚æˆ–xxxåçš„æ•°ç»„ï¼Œæ±‚å‡ºä»»æ„ä¸€ä¸ªxxxçš„å¯èƒ½å€¼ Easy Versonæ•°æ®èŒƒå›´ï¼š0=lâ‰¤r&lt;2170 = l \\leq r &lt; 2^{17}0=lâ‰¤r&lt;217 ç”±äºä½è¿ç®—æ¯ä¸€ä½ç‹¬ç«‹ï¼Œæˆ‘ä»¬è€ƒè™‘æ¯ä¸€ä½æŒ‰ä½å¼‚æˆ–çš„å€¼ã€‚ å¯¹äºæ¯ä¸ªäºŒè¿›åˆ¶ä½ï¼Œåˆ†åˆ«ç»Ÿè®¡å½“å‰æ’åˆ—ï¼ˆä¸‹æ ‡ï¼‰ä¸­1çš„ä¸ªæ•°ï¼Œä»¥åŠå½“å‰æ•°ç»„å…ƒç´ ä¸­1çš„ä¸ªæ•°ï¼Œå¦‚æœä¸ç›¸åŒï¼Œè¯´æ˜å½“å‰è¿™ä¸€ä½éœ€è¦è¿›è¡Œä¸€æ¬¡å¼‚æˆ–ï¼Œå³xxxçš„å½“å‰ä½ä¸º1ï¼Œè€ƒè™‘å®Œæ‰€æœ‰çš„ä½å°±å¾—åˆ°äº†xxx. // Problem: D1. 388535 (Easy Version) // Contest: Codeforces - Codeforces Round #779 (Div. 2) // URL: https://codeforces.com/problemset/problem/1658/D1 // Memory Limit: 256 MB // Time Limit: 1000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = (1 &lt;&lt; 17) + 5; int l, r; int a[N]; void solve() { cin &gt;&gt; l &gt;&gt; r; for(int i = l; i &lt;= r; i ++) cin &gt;&gt; a[i]; int res = 0; for(int j = 0; j &lt;= 17; j ++) { int cnt_idx = 0, cnt_num = 0; for(int i = l; i &lt;= r; i ++) { if(i &amp; (1 &lt;&lt; j)) cnt_idx ++; if(a[i] &amp; (1 &lt;&lt; j)) cnt_num ++; } if(cnt_idx != cnt_num) res += 1 &lt;&lt; j; } cout &lt;&lt; res &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1658D2- 388535 (Hard Version) ç»™å®šä¸€ä¸ªåŒºé—´[l,r][l,r][l,r]ï¼Œå·²çŸ¥åŸæ•°ç»„æ˜¯[l,r][l,r][l,r]çš„æ’åˆ—ï¼Œç°åœ¨ç»™å‡ºåŸæ•°ç»„å¼‚æˆ–xxxåçš„æ•°ç»„ï¼Œæ±‚å‡ºä»»æ„ä¸€ä¸ªxxxçš„å¯èƒ½å€¼ Easy Versonæ•°æ®èŒƒå›´ï¼š0â‰¤lâ‰¤r&lt;2170 \\leq l \\leq r &lt; 2 ^ {17}0â‰¤lâ‰¤r&lt;217 é€šè¿‡è§‚å¯Ÿï¼ˆæˆ–è®¸ï¼‰å¯ä»¥å‘ç°ï¼šaaaä¸­ä¸€å®šå­˜åœ¨ä¸€ä¸ªæ•°aia_iaiâ€‹ï¼Œä½¿å¾—aiâŠ•x=la_i \\oplus x = laiâ€‹âŠ•x=lï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥ç¡®å®šå­˜åœ¨ä¸€ä¸ªaia_iaiâ€‹ä½¿å¾—x=aiâŠ•lx = a_i\\oplus lx=aiâ€‹âŠ•l ç”±äºaaaä¸­çš„æ•°äº’ä¸ç›¸åŒï¼Œæ‰€ä»¥å…¶ä¸­çš„æ•°å¼‚æˆ–ä¸Šxxxä¹Ÿäº’ä¸ç›¸åŒï¼Œæˆ‘ä»¬ç”¨æ•°ç»„bbbæ¥å­˜å‚¨aiâŠ•la_i \\oplus laiâ€‹âŠ•lçš„å€¼ï¼Œç„¶åç»´æŠ¤ä¸€ä¸ª01Trieæ¥æŸ¥æ‰¾biâŠ•aib_i \\oplus a_ibiâ€‹âŠ•aiâ€‹çš„æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œè¿™ä¸ªå€¼bib_ibiâ€‹éœ€è¦æ»¡è¶³æœ€å¤§å€¼ä¸ºlllï¼Œæœ€å°å€¼ä¸ºrrr #include&lt;bits/stdc++.h&gt; #define N 1000005 #define int long long using namespace std; int T,l,r,a[N],cnt,trie[N][30],b[N]; void insert(int sum){ int now=0; for(int i=17;i&gt;=0;i--){ bool tmp=(1&lt;&lt;i)&amp;sum; if(!trie[now][tmp])trie[now][tmp]=++cnt; now=trie[now][tmp]; } } int Max(int sum){ int now=0,res=0; for(int i=17;i&gt;=0;i--){ bool tmp=(1&lt;&lt;i)&amp;sum; if(!trie[now][tmp^1])now=trie[now][tmp]; else now=trie[now][tmp^1],res+=(1&lt;&lt;i); } return res; } int Min(int sum){ int now=0,res=0; for(int i=17;i&gt;=0;i--){ bool tmp=(1&lt;&lt;i)&amp;sum; if(!trie[now][tmp])now=trie[now][tmp^1],res+=(1&lt;&lt;i); else now=trie[now][tmp]; } return res; } signed main() { cin&gt;&gt;T; while(T--){ cin&gt;&gt;l&gt;&gt;r; for(int i=0;i&lt;=cnt;i++)trie[i][0]=trie[i][1]=0; cnt=0; for(int i=l;i&lt;=r;i++)cin&gt;&gt;a[i],b[i]=a[i]^l; for(int i=l;i&lt;=r;i++)insert(a[i]); for(int i=l;i&lt;=r;i++){ if(Max(b[i])==r&amp;&amp;Min(b[i])==l){ cout&lt;&lt;b[i]&lt;&lt;endl; break; } } } } 1651C- Fault-tolerant Network ç»™å®šä¸¤ä¸ªæ•°ç»„a,ba,ba,bï¼Œæ•°ç»„aaaç›¸é‚»ä¸¤ä¸ªå…ƒç´ ä¹‹é—´é€šè¿‡çº¿ç›¸è¿ï¼Œæ•°ç»„bbbåŒç†ï¼Œç°åœ¨è¦å°†a,ba,ba,bä¸¤ä¸ªæ•°ç»„äº’ç›¸è¿æ¥ï¼Œè¿æ¥çš„ä»£ä»·ä¸ºâˆ£a[i]âˆ’b[j]âˆ£|a[i]-b[j]|âˆ£a[i]âˆ’b[j]âˆ£è¦æ±‚å½“åˆ é™¤ä¸¤ä¸ªæ•°ç»„ä¸­ä»»æ„ä¸€ä¸ªå…ƒç´ æ—¶ï¼Œå‰©ä¸‹çš„æ‰€æœ‰å…ƒç´ ä»ç„¶èƒ½é€šè¿‡çº¿è¿é€šï¼Œä¸”ä»£ä»·æœ€å°ã€‚ é€šè¿‡è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œæƒ³è¦è®©ä¸¤ä¸ªæ•°ç»„åœ¨åˆ é™¤ä¸€ä¸ªä»»æ„ä¸€ä¸ªæ•°çš„æƒ…å†µä¸‹ä¿æŒè¿é€šï¼Œåˆ™ä¸¤ä¸ªæ•°ç»„çš„å¼€å¤´å’Œæœ«å°¾ä¸€å®šè¦æœ‰çº¿æ¥è¿æ¥ã€‚ å‡è®¾æŸä¸€ä¸ªæ•°ç»„çš„å¼€å¤´æˆ–ç»“å°¾æ²¡æœ‰æ•°è¿æ¥ï¼Œé‚£ä¹ˆå½“æˆ‘ä»¬åˆ é™¤è¿™ä¸ªæ•°çš„æ—¶å€™ï¼Œä¼šå‘ç°è¿™ä¸ªæ•°ä¸€å®šæ˜¯å­¤ç«‹çš„çŠ¶æ€ï¼Œæ‰€ä»¥ä¸Šé¢ç»“è®ºæˆç«‹ã€‚ è¿›ä¸€æ­¥è§‚å¯Ÿå¯ä»¥å‘ç°ï¼Œåªè¦ä¿è¯ä¸¤ä¸ªæ•°çš„å¼€å¤´æˆ–ç»“å°¾å¤„äºè¿æ¥çŠ¶æ€ï¼Œæ­¤æ—¶ä¸¤ä¸ªæ•°ç»„å·²ç»å¯ä»¥ä¿è¯åœ¨åˆ é™¤ä»»æ„æ•°çš„æ¡ä»¶ä¸‹ä¿æŒè¿é€šï¼Œä¸éœ€è¦æ·»åŠ é¢å¤–çš„è¾¹ã€‚å› æ­¤æˆ‘ä»¬åªéœ€è¦åˆ†åˆ«æ±‚è¿™å››ä¸ªç‚¹è¿›è¡Œè¿çº¿çš„æœ€å°ä»£ä»·ï¼Œæœ€åæ±‚å’Œå³å¯ã€‚ æœ¬é¢˜è¿˜è¦æ³¨æ„è¾¹ç•Œé—®é¢˜ï¼šå››ä¸ªç‚¹äº’ç›¸è¿çº¿çš„æƒ…å†µä¸‹éœ€è¦ç‰¹åˆ¤æœ€å°å€¼ã€‚ // Problem: C. Fault-tolerant Network // Contest: Codeforces - Educational Codeforces Round 124 (Rated for Div. 2) // URL: https://codeforces.com/problemset/problem/1651/C // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10, INF = 2e18; int a[N], b[N]; int n; void solve() { cin &gt;&gt; n; for(int i = 1; i &lt;= n; i ++) cin &gt;&gt; a[i]; for(int i = 1; i &lt;= n; i ++) cin &gt;&gt; b[i]; int st1 = a[1], ed1 = a[n], st2 = b[1], ed2 = b[n]; int t1, t2, t3, t4; t1 = t2 = t3 = t4 = INF; int idx1, idx2, idx3, idx4; for(int i = 1; i &lt;= n; i ++) { t1 = min(t1, abs(b[i] - st1)); t2 = min(t2, abs(b[i] - ed1)); t3 = min(t3, abs(a[i] - st2)); t4 = min(t4, abs(a[i] - ed2)); } int res = t1 + t2 + t3 + t4; res = min(res, min(abs(st1 - ed2) + abs(st2 - ed1), abs(st1 - st2) + abs(ed1 - ed2))); res = min(res, min(abs(st1 - st2) + t2 + t4, abs(ed1 - ed2) + t1 + t3)); res = min(res, min(abs(st1 - ed2) + t2 + t3, abs(st2 - ed1) + t1 + t4)); cout &lt;&lt; res &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1646C- Factorials and Powers of Two å®šä¹‰å¥½æ•°ï¼šå¦‚æœæŸä¸ªæ•°å¯ä»¥è¢«è¡¨ç¤ºä¸ºd!d!d!æˆ–2d2^d2dï¼Œåˆ™è¿™ä¸ªæ•°è¢«ç§°ä¸ºå¥½æ•° ç»™å®šä¸€ä¸ªæ•°nnnï¼Œæ±‚nnnæœ€å°‘å¯ä»¥è¢«æ‹†åˆ†æˆå¤šå°‘ä¸ªå¥½æ•°çš„å’Œ æ•°æ®èŒƒå›´ï¼š1â‰¤nâ‰¤10121 \\leq n \\leq 10^{12}1â‰¤nâ‰¤1012 é¦–å…ˆä»»ä½•ä¸€ä¸ªæ­£æ•´æ•°ä¸€å®šå¯ä»¥è¢«æ‹†åˆ†æˆè‹¥å¹²ä¸ªå¥½æ•°çš„å’Œï¼Œå› ä¸ºè¯¥æ•°ä¸€å®šå¯ä»¥ç”±äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œä¸”æœ€å¤šæ‹†ä¸ºäºŒè¿›åˆ¶ä¸­1çš„ä¸ªæ•° ç„¶åå¯ä»¥å‘ç°ï¼Œ101210^{12}1012ä»¥å†…çš„é˜¶ä¹˜æ•°å¾ˆå°‘ï¼Œæœ€å¤šåªæœ‰15ä¸ª äºæ˜¯æ–¹æ³•éå¸¸æ˜¾ç„¶ï¼šæšä¸¾é˜¶ä¹˜æ•°çš„æ‰€æœ‰ä½¿ç”¨æƒ…å†µçš„æ€»å’Œï¼Œå‰©ä¸‹çš„æ•°ç”¨äºŒè¿›åˆ¶è¡¨ç¤ºï¼Œç­”æ¡ˆå–æœ€å°å€¼ï¼Œé‡‡ç”¨DFSæš´æœå³å¯ // Problem: C. Factorials and Powers of Two // Contest: Codeforces - Codeforces Round #774 (Div. 2) // URL: https://codeforces.com/problemset/problem/1646/C // Memory Limit: 256 MB // Time Limit: 3000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 2e5 + 10; int n; int p[50], cnt; bool v[50]; void init() { int t = 1; for(int i = 1; i &lt;= 15; i ++) { t *= i; p[i] = t; } } int dfs(int fac, int val, int idx) { if(val &lt; 0) return 1e18; else if(fac == 16) { int res = 0; while(val &gt; 0) { if(val &amp; 1) res ++; val &gt;&gt;= 1; } return res + idx; } else return min(dfs(fac + 1, val, idx), dfs(fac + 1, val - p[fac], idx + 1)); } void solve() { int n; cin &gt;&gt; n; cout &lt;&lt; dfs(1, n, 0) &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; init(); while(T --) { solve(); } return 0; }","categories":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://memsetray.github.io/categories/é¢˜è§£/"}],"tags":[],"keywords":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://memsetray.github.io/categories/é¢˜è§£/"}]},{"title":"CodeForces2000-2300éš¾åº¦éƒ¨åˆ†é¢˜é¢˜è§£","slug":"CodeForces2000-2300éš¾åº¦éƒ¨åˆ†é¢˜é¢˜è§£","date":"2022-09-05T00:35:49.000Z","updated":"2022-09-05T14:53:28.406Z","comments":true,"path":"2022/09/05/CodeForces2000-2300éš¾åº¦éƒ¨åˆ†é¢˜é¢˜è§£/","link":"","permalink":"https://memsetray.github.io/2022/09/05/CodeForces2000-2300éš¾åº¦éƒ¨åˆ†é¢˜é¢˜è§£/","excerpt":"","text":"Codeforces 2000-2300 éš¾åº¦é¢˜è§£ 808G-Anthem of Berland é¢˜ç›®æè¿°ï¼šç»™å®š sss ä¸²å’Œ ttt ä¸²ï¼Œå…¶ä¸­ sss ä¸²åŒ…å«å°å†™å­—æ¯å’Œé—®å·ï¼Œttt ä¸²åªåŒ…å«å°å†™å­—æ¯ã€‚ å‡è®¾å…±æœ‰ kkk ä¸ªé—®å·ã€‚ ä½ éœ€è¦ç»™æŠŠæ¯ä¸ªé—®å·å˜æˆä¸€ä¸ªå°å†™å­—æ¯ï¼Œå…±æœ‰ 26k26^k26k ç§å¯èƒ½ã€‚ å¯¹äºæ¯ç§å¯èƒ½ï¼Œè®¾ ttt åŒ¹é… sss çš„æ¬¡æ•°ä¸º fif_ifiâ€‹ï¼Œè¯·è¾“å‡º maxâ¡(fi)\\max(f_i)max(fiâ€‹) ã€‚ æ•°æ®èŒƒå›´ï¼š1â‰¤âˆ£sâˆ£,âˆ£tâˆ£â‰¤105,âˆ£sâˆ£âˆ—âˆ£tâˆ£â‰¤1071 \\leq |s|,|t| \\leq 10^5,|s|*|t| \\leq 10^71â‰¤âˆ£sâˆ£,âˆ£tâˆ£â‰¤105,âˆ£sâˆ£âˆ—âˆ£tâˆ£â‰¤107 é¢˜è§£ï¼šKMPè‡ªåŠ¨æœºï¼šæ„å»ºä¸€ä¸ªæ•°ç»„aut[i][c]aut[i][c]aut[i][c]ï¼Œè¡¨ç¤ºæ¨¡å¼ä¸²çš„å‰iâˆ’1i - 1iâˆ’1ä½å·²ç»åŒ¹é…å®Œæˆï¼Œç”¨cccä¸tit_itiâ€‹åŒ¹é…åçš„åŒ¹é…é•¿åº¦ æ„é€ æ–¹å¼ï¼šå…ˆæ±‚å‡ºnextnextnextæ•°ç»„ aut[i][c]={aut[next[iâˆ’1]+1][c],i=1âˆ£âˆ£tiâ‰ ci+[ti=c],a&lt;1aut[i][c] = \\begin{cases} aut[next[i - 1] + 1][c],&amp;i = 1 || t_i \\neq c \\\\ i + [t_i = c],&amp;a &lt; 1 \\end{cases} aut[i][c]={aut[next[iâˆ’1]+1][c],i+[tiâ€‹=c],â€‹i=1âˆ£âˆ£tiâ€‹î€ â€‹=ca&lt;1â€‹ é¦–å…ˆæ„å»ºKMPè‡ªåŠ¨æœºï¼Œç„¶åè€ƒè™‘DP è®¾dp[i][j]dp[i][j]dp[i][j]ä¸ºå½“å‰æ‰«æåˆ°sssçš„ç¬¬iiiä½ï¼Œåœ¨KMPè‡ªåŠ¨æœºä¸Šçš„èŠ‚ç‚¹jjjåŒ¹é…çš„æœ€å¤§æ¬¡æ•° çŠ¶æ€è½¬ç§»æ–¹ç¨‹ï¼š dp[i][j]=max(dp[i][j],dp[iâˆ’1][j]+(j==m))dp[i][j] = max(dp[i][j], dp[i - 1][j] + (j == m))dp[i][j]=max(dp[i][j],dp[iâˆ’1][j]+(j==m)) ç­”æ¡ˆä¸ºâˆ‘âˆ£tâˆ£1max(dp[âˆ£sâˆ£][i])\\sum^1_{|t|} max(dp[|s|][i])âˆ‘âˆ£tâˆ£1â€‹max(dp[âˆ£sâˆ£][i])ï¼Œæ—¶é—´å¤æ‚åº¦O(âˆ£sâˆ£âˆ—âˆ£tâˆ£âˆ—26)O(|s|*|t|*26)O(âˆ£sâˆ£âˆ—âˆ£tâˆ£âˆ—26) // Problem: G. Anthem of Berland // Contest: Codeforces - Educational Codeforces Round 21 // URL: https://codeforces.com/contest/808/problem/G // Memory Limit: 256 MB // Time Limit: 3000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 1e5 + 10; int n, m; int dp[2][N]; int ne[N], aut[N][26]; char s[N], t[N]; void init_ne() { ne[1] = 0; for(int i = 2, j = 0; i &lt;= m; i ++) { while(j &amp;&amp; t[i] != t[j + 1]) j = ne[j]; if(t[i] == t[j + 1]) j ++; ne[i] = j; } } void init_KMPAM() { for(int i = 1; i &lt;= m; i ++) { for(int c = 0; c &lt; 26; c ++) { if(i &gt; 1 &amp;&amp; t[i] != c + 'a') aut[i][c] = aut[ne[i - 1] + 1][c]; else aut[i][c] = i + (t[i] == c + 'a'); } } } void dp_KMP() { memset(dp, 0xcf, sizeof dp); //åˆå§‹åŒ–è´Ÿæ— ç©· dp[0][1] = 0; for(int i = 1; i &lt;= n; i ++) { if(s[i] == '?') { for(int j = 1; j &lt;= m; j ++) { for(int c = 0; c &lt; 26; c ++) dp[i &amp; 1][aut[j][c]] = max(dp[i &amp; 1][aut[j][c]], dp[(i - 1) &amp; 1][j] + (aut[j][c] == m)); } } else { for(int j = 1; j &lt;= m; j ++) dp[i &amp; 1][aut[j][s[i] - 'a']] = max(dp[i &amp; 1][aut[j][s[i] - 'a']], dp[(i - 1) &amp; 1][j] + (aut[j][s[i] - 'a'] == m)); } for(int j = 1; j &lt;= m; j ++) dp[(i - 1) &amp; 1][j] = -0x3f3f3f3f; } } void solve() { cin &gt;&gt; (s + 1) &gt;&gt; (t + 1); n = strlen(s + 1), m = strlen(t + 1); t[++ m] = '#'; //åŠ ç‰¹æ®Šå­—ç¬¦ init_ne(); init_KMPAM(); dp_KMP(); int mmax = 0; for(int j = 1; j &lt;= m; j ++) mmax = max(mmax, dp[n &amp; 1][j]); cout &lt;&lt; mmax &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); solve(); return 0; } 1721E- Prefix Function Queries é¢˜ç›®å¤§æ„ï¼šç»™å®šå­—ç¬¦ä¸²sss,ä»¥åŠqqqä¸ªä¸²tit_itiâ€‹ï¼Œæ±‚å°†sssåˆ†åˆ«ä¸æ¯ä¸ªtit_itiâ€‹æ‹¼æ¥èµ·æ¥åï¼Œæœ€é å³çš„âˆ£tiâˆ£|t_i|âˆ£tiâ€‹âˆ£ä¸ªå‰ç¼€çš„borderé•¿åº¦ï¼Œæ¯ä¸ªè¯¢é—®ç›¸äº’ç‹¬ç«‹ æ•°æ®èŒƒå›´ï¼šâˆ£sâˆ£â‰¤106,qâ‰¤105,âˆ£tiâˆ£â‰¤10|s| \\leq 10^6, q \\leq 10^5, |t_i| \\leq 10âˆ£sâˆ£â‰¤106,qâ‰¤105,âˆ£tiâ€‹âˆ£â‰¤10 é¢˜è§£ï¼šå¯¹åŸä¸²sssæ±‚KMPè‡ªåŠ¨æœºï¼Œæ¯æ¬¡è¯¢é—®åœ¨çº¿æ„é€ s+ts + ts+tä¸­tttéƒ¨åˆ†çš„KMPè‡ªåŠ¨æœºï¼Œè¾“å‡ºå¯¹åº”çš„nextå€¼å³å¯ // Problem: E. Prefix Function Queries // Contest: Codeforces - Educational Codeforces Round 134 (Rated for Div. 2) // URL: https://codeforces.com/problemset/problem/1721/E // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; using namespace std; const int N = 1e6 + 10; char s[N]; int ne[N], aut[N][27]; int n, m; void init_next() { ne[1] = 0; for(int i = 2, j = 0; i &lt;= n; i ++) { while(j &amp;&amp; s[i] != s[j + 1]) j = ne[j]; if(s[i] == s[j + 1]) j ++; ne[i] = j; } } void init_KMPAM() { for(int i = 0; i &lt; n; i ++) { for(int c = 1; c &lt;= 26; c ++) { aut[i][c] = aut[ne[i]][c]; } aut[i][s[i + 1] - 'a' + 1] = i; } } void solve() { int q; cin &gt;&gt; (s + 1); n = strlen(s + 1); init_next(); init_KMPAM(); cin &gt;&gt; q; while(q --) { cin &gt;&gt; (s + n + 1); m = n + strlen(s + n + 1); for(int i = n + 1, k = ne[n]; i &lt;= m; i ++) { int id = i - 1; k = aut[k][s[i] - 'a' + 1]; if(s[i] == s[k + 1]) k ++; ne[i] = k; cout &lt;&lt; k &lt;&lt; &quot; &quot;; for(int c = 1; c &lt;= 26; c ++) aut[id][c] = aut[ne[id]][c]; aut[id][s[i] - 'a' + 1] = id; } cout &lt;&lt; endl; } } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); solve(); return 0; } 1712D- Empty Graph é¢˜ç›®å¤§æ„ï¼šç»™å®šä¸€ä¸ªé•¿åº¦ä¸ºnnnçš„åºåˆ—aaa å®šä¹‰ä¸€ä¸ªnnnä¸ªç‚¹çš„æ— å‘å®Œå…¨å›¾ï¼Œç‚¹lllå’Œç‚¹rrrä¹‹é—´çš„è·ç¦»ä¸ºminlâ‰¤iâ‰¤r{a[i]}\\underset{l\\leq i \\leq r}{min} \\{a[i]\\}lâ‰¤iâ‰¤rminâ€‹{a[i]} ä½ å¯ä»¥è¿›è¡Œkkkæ¬¡æ“ä½œï¼Œæ¯æ¬¡æ“ä½œå¯ä»¥é€‰å®š1âˆ’n1-n1âˆ’nä¸­ä»»æ„ä¸€ä¸ªæ•°å¹¶å°†aia_iaiâ€‹èµ‹å€¼ä¸ºä¸€ä¸ª[1,109][1,10^9][1,109]çš„æ•´æ•°ï¼Œè¯·æœ€å¤§åŒ–è¿™ä¸ªå›¾çš„ç›´å¾„ã€‚ å›¾çš„ç›´å¾„å®šä¹‰ä¸ºmax1â‰¤uâ‰¤vâ‰¤nd(u,v)\\underset{1 \\leq u \\leq v \\leq n}{max}d(u,v)1â‰¤uâ‰¤vâ‰¤nmaxâ€‹d(u,v)ï¼Œå…¶ä¸­d(u,v)d(u,v)d(u,v)ä¸ºuuuåˆ°vvvçš„æœ€çŸ­è·¯é•¿åº¦ã€‚ é¢˜è§£ï¼šæœ¬é¢˜çš„ç­”æ¡ˆå…·æœ‰æœ€å¤§å€¼æœ€å°çš„æ€§è´¨ï¼Œè€ƒè™‘äºŒåˆ†ç­”æ¡ˆ é¦–å…ˆéœ€è¦å‘ç°ä¸€ä¸ªæ€§è´¨ï¼šå¯¹äºä¸¤ç‚¹é—´çš„æœ€çŸ­è·¯ï¼Œæœ€å¤šèµ°ä¸¤æ¡è¾¹ï¼Œè¦ä¹ˆèµ°ä¸¤ç‚¹ç›´æ¥ç›¸è¿çš„è¾¹ï¼Œè¦ä¹ˆå…ˆèµ°ä¸€ä¸ªæœ€å°è¾¹èµ°åˆ°æŸä¸ªç‚¹ï¼Œå†ä»è¿™ä¸ªç‚¹èµ°åˆ°ç›®æ ‡ç‚¹ ï¼Œå³ d(u,v)=min(e(u,v),2âˆ—mmin)d(u,v) = min(e(u,v),2*mmin) d(u,v)=min(e(u,v),2âˆ—mmin) å…¶ä¸­mminmminmminä¸ºmin1â‰¤iâ‰¤n{ai}\\underset{1 \\leq i \\leq n}{min} \\{ai\\}1â‰¤iâ‰¤nminâ€‹{ai},e(u,v)=minuâ‰¤iâ‰¤vâˆ’1(e(ai,ai+1))e(u,v) = \\underset{u \\leq i \\leq v - 1}{min}(e(a_i,a_{i + 1}))e(u,v)=uâ‰¤iâ‰¤vâˆ’1minâ€‹(e(aiâ€‹,ai+1â€‹)) è®¾å›¾çš„ç›´å¾„ä¸ºlllï¼Œç”±æ­¤å¯å¾—ï¼š \\begin{align} l &amp;= max(min(e(u,v), 2*mmin)) \\\\ &amp;= min(max(e(u,v)), 2*mmin) \\\\ &amp;= min(max(\\underset{1 \\leq i \\leq n - 1}{min}(a_i, a_{i + 1})), 2 * mmin) \\end{align} è‡³æ­¤æˆ‘ä»¬å·²ç»çŸ¥é“å¦‚ä½•äºŒåˆ†ç­”æ¡ˆï¼š è®¾å½“å‰äºŒåˆ†çš„ç­”æ¡ˆä¸ºmidmidmidï¼Œæˆ‘ä»¬éœ€è¦å°†æ‰€æœ‰å€¼å°äºç­‰äºmid2\\frac{mid}{2}2midâ€‹çš„ç‚¹èµ‹å€¼ä¸º10910^9109ï¼Œå› ä¸ºè¿™äº›ç‚¹èµ°ä¸¤æ¬¡ä¹‹åä¾ç„¶æ¯”ç­”æ¡ˆå°ï¼Œæˆ‘ä»¬å°±ä¸€å®šè¦ä¿®æ”¹è¿™äº›è¾¹ï¼ŒåŒæ—¶è®°å½•ä¿®æ”¹çš„æ¬¡æ•° å¦‚æœè¢«ä¿®æ”¹æ¬¡æ•°å¤§äºkkkï¼Œåˆ™æ˜¾ç„¶ä¸åˆæ³• å¦‚æœè¢«ä¿®æ”¹æ¬¡æ•°ç­‰äºkkkï¼Œæˆ‘ä»¬éœ€è¦æ±‚å‡ºæ­¤æ—¶çš„ç›´å¾„lllï¼Œå¦‚æœl&gt;=midl &gt;= midl&gt;=midï¼Œé‚£ä¹ˆmidmidmidæ˜¾ç„¶åˆæ³• å¦‚æœè¢«ä¿®æ”¹æ¬¡æ•°å°äºkkkï¼Œæˆ‘ä»¬éœ€è¦åˆ†ç±»è®¨è®ºä¸€ä¸‹ï¼š â€‹ å¦‚æœk&gt;1k &gt;1k&gt;1ï¼Œè¯´æ˜æˆ‘ä»¬è¿˜æœ‰æ›´å¤šä¿®æ”¹ä½™åœ°ï¼Œå·²ç»ä¸éœ€è¦ä¿®æ”¹äº†ï¼Œé‚£ä¹ˆä¸€å®šåˆæ³• â€‹ å¦‚æœk=1k = 1k=1ï¼Œè¯´æ˜ä¸å­˜åœ¨å°äºç­‰äºmid2\\frac{mid}{2}2midâ€‹çš„ç‚¹ï¼Œæ­¤æ—¶æˆ‘ä»¬ä»…èƒ½ä¿®æ”¹ä¸€æ¡è¾¹ï¼Œè§‚å¯Ÿä¸Šé¢çš„å…¬å¼ï¼Œæˆ‘ä»¬éœ€è¦æ±‚å‡ºmax(min1â‰¤iâ‰¤nâˆ’1(ai,ai+1))max(\\underset{1 \\leq i \\leq n - 1}{min}(a_i, a_{i + 1}))max(1â‰¤iâ‰¤nâˆ’1minâ€‹(aiâ€‹,ai+1â€‹)) â€‹ æ¢å¥è¯è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦æ±‚å‡ºæ˜¯å¦å­˜åœ¨aiâ‰¥mida_i \\geq midaiâ€‹â‰¥midï¼Œå¦‚æœå­˜åœ¨ï¼Œæˆ‘ä»¬å°±è¦æŠŠä¸ä»–ç›¸é‚»çš„å¦ä¸€ä¸ªæ”¹æˆ10910^9109å³å¯ã€‚ // Problem: D. Empty Graph // Contest: Codeforces - Codeforces Round #813 (Div. 2) // URL: https://codeforces.com/problemset/problem/1712/D // Memory Limit: 256 MB // Time Limit: 1500 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 1e5 + 10; int n, k; bool check(vector&lt;int&gt; a, int mid, int t) { for(int i = 0; i &lt; a.size(); i ++) if(a[i] * 2 &lt; mid) t --, a[i] = 1e9; if(t &lt; 0) return false; if(t == 0) { for(int i = 0; i &lt; a.size() - 1; i ++) if(min(a[i], a[i + 1]) &gt;= mid) return true; } else if(t == 1) return *max_element(a.begin(), a.end()) &gt;= mid; else return true; return false; } void solve() { vector&lt;int&gt; a; cin &gt;&gt; n &gt;&gt; k; for(int i = 1; i &lt;= n; i ++) { int x; cin &gt;&gt; x; a.push_back(x); } int l = 1, r = 1e9; while(l &lt; r) { int mid = (l + r + 1) &gt;&gt; 1; if(check(a, mid, k)) l = mid; else r = mid - 1; } cout &lt;&lt; l &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; } 1706E- Qpwoeirut and Vertices é¢˜ç›®å¤§æ„ï¼šç»™å‡ºnnnä¸ªç‚¹ï¼Œmmmæ¡è¾¹çš„ä¸å¸¦æƒè¿é€šæ— å‘å›¾ï¼Œqqqæ¬¡è¯¢é—®è‡³å°‘è¦åŠ å®Œç¼–å·å‰å¤šå°‘çš„è¾¹ï¼Œæ‰èƒ½ä½¿å¾—[l,r][l,r][l,r]ä¸­çš„æ‰€æœ‰ç‚¹ä¸¤ä¸¤è¿é€šã€‚ é¢˜è§£ï¼šå‰ç½®çŸ¥è¯†ï¼šKruskalé‡æ„æ ‘\\textcolor{pink}{Kruskalé‡æ„æ ‘}Kruskalé‡æ„æ ‘ KruskalKruskalKruskalé‡æ„æ ‘æ˜¯å°†ä¸€å¼ æ— å‘å›¾ç»è¿‡KruskalKruskalKruskalç®—æ³•å¾—åˆ°æœ€å°ç”Ÿæˆæ ‘åï¼Œå†å°†å…¶é‡å»ºæˆä¸€é¢—äºŒå‰æ ‘ï¼ŒåŸå›¾ä¸­æ‰€æœ‰çš„å¶å­ç»“ç‚¹éƒ½æ˜¯åŸå›¾ä¸­çš„ç‚¹ï¼Œå…¶ä»–ç‚¹å…·æœ‰ä¸€ä¸ªç‚¹æƒwwwï¼Œè¡¨ç¤ºå·¦é›†åˆåˆ°å³é›†åˆçš„è¾¹æƒã€‚ KruskalKruskalKruskalé‡æ„æ ‘çš„æ€§è´¨ï¼šåŸå›¾ä¸­ä¸¤ç‚¹ä¹‹é—´æ‰€æœ‰ç®€å•è·¯å¾„ä¸Šæœ€å¤§è¾¹æƒçš„æœ€å°å€¼=æœ€å°ç”Ÿæˆæ ‘ä¸Šä¸¤ä¸ªç‚¹ä¹‹é—´çš„ç®€å•è·¯å¾„ä¸Šçš„æœ€å¤§å€¼=KruskalKruskalKruskalé‡æ„æ ‘ä¸Šä¸¤ç‚¹ä¹‹é—´LCAçš„æƒå€¼ eg1eg_1eg1â€‹ï¼šæ±‚èŠ‚ç‚¹uuuåˆ°èŠ‚ç‚¹vvvè·¯å¾„çš„æœ€å¤§è¾¹æƒï¼Œå°±æ˜¯æ±‚LCA(u,v)LCA(u,v)LCA(u,v)çš„ç‚¹æƒ eg2eg_2eg2â€‹:ä»ç‚¹uuuå‡ºå‘ï¼Œç»™å®šä¸€ä¸ªå€¼tttï¼Œåœ¨é€šè¿‡æ‰€æœ‰è¾¹çš„æƒå€¼å°äºç­‰äºtttæ—¶ï¼Œèµ°è¿‡äº†å¤šå°‘ä¸ªç‚¹ =&gt;=&gt;=&gt;ä»ç‚¹uuuå‘ä¸Šæ‰¾ï¼Œæ‰¾åˆ°æœ€åä¸€ä¸ªå°äºç­‰äºtttçš„è™šç‚¹ï¼Œå­æ ‘ä¸­çš„ç‚¹éƒ½å¯ä»¥é€šè¿‡ï¼ˆå› ä¸ºé‡æ„æ ‘ä¸Šçš„ç‚¹ä»ä¸Šå¾€ä¸‹ç‚¹æƒå•è°ƒä¸å‡ï¼‰ å›åˆ°è¿™é“é¢˜ï¼Œç»“è®ºæ˜¾è€Œæ˜“è§ï¼šä½¿å¾—(u,v)(u,v)(u,v)ä¹‹é—´ä¸¤ä¸¤è¿é€šçš„æœ€å°è¾¹æƒä¸ºé‡æ„æ ‘ä¸Šçš„v(LCA(u,v))v(LCA(u,v))v(LCA(u,v))ï¼Œå…¶ä¸­vvvä¸ºç‚¹æƒã€‚ å‰©ä¸‹çš„é—®é¢˜æ˜¯å¤„ç†æ‰€æœ‰è¯¢é—®ï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨STè¡¨é¢„å¤„ç†æ‰€æœ‰è¯¢é—®ï¼Œæˆ–è€…é‡‡ç”¨çº¿æ®µæ ‘ã€‚å¤šä¸ªç‚¹çš„LCALCALCAçš„æ±‚æ³•ï¼šå–å‡ºå…¶ä¸­dfndfndfnæœ€å°å’Œæœ€å¤§çš„ç‚¹æ±‚LCALCALCAå³ä¸ºç­”æ¡ˆã€‚ // Problem: E. Qpwoeirut and Vertices // Contest: Codeforces - Codeforces Round #809 (Div. 2) // URL: https://codeforces.com/problemset/problem/1706/E // Memory Limit: 256 MB // Time Limit: 2000 ms // Author:Ray #include&lt;iostream&gt; #include&lt;cstring&gt; #include&lt;algorithm&gt; #include&lt;vector&gt; #include&lt;cmath&gt; #include&lt;string&gt; #define int long long using namespace std; const int N = 1e5 + 10, M = N * 2; struct Edge{ int x, y; }e[M]; struct D{ int l, r, c; int fa[20]; int p; int depth; }d[M]; int n, m, q; int t[N * 4]; void init() { for(int i = 1; i &lt;= n; i ++) { memset(d[i].fa, 0, sizeof d[i].fa); d[i].p = d[i].l = d[i].r = d[i].c = 0; } } int find(int x) { if(d[x].p != x) d[x].p = find(d[x].p); return d[x].p; } void merge_seg(int x, int y, int c) { int px = find(x), py = find(y); if(px == py) return ; else n ++; d[px].p = d[py].p = d[n].p = n; d[px].fa[0] = d[py].fa[0] = n; d[n].l = px, d[n].r = py, d[n].c = c; } void kruskal() { for(int i = 1; i &lt;= n; i ++) d[i].p = i; for(int i = 1; i &lt;= m; i ++) merge_seg(e[i].x, e[i].y, i); } void dfs(int x) { if(x == 0) return ; d[x].depth = d[d[x].fa[0]].depth + 1; for(int i = 1; i &lt;= 18; i ++) d[x].fa[i] = d[d[x].fa[i - 1]].fa[i - 1]; dfs(d[x].l); dfs(d[x].r); } int lca(int x, int y) { if(d[x].depth &lt; d[y].depth) swap(x, y); for(int i = 18; i &gt;= 0; i --) if(d[d[x].fa[i]].depth &gt;= d[y].depth) x = d[x].fa[i]; if(x == y) return y; for(int i = 18; i &gt;= 0; i --) if(d[x].fa[i] != d[y].fa[i]) { x = d[x].fa[i]; y = d[y].fa[i]; } return d[y].fa[0]; } int build(int x, int l ,int r) { int mid = l + r &gt;&gt; 1; if(l == r) t[x] = mid; else t[x] = lca(build(x &lt;&lt; 1, l, mid), build(x &lt;&lt; 1 | 1, mid + 1, r)); return t[x]; } int query(int x, int l, int r, int a, int b) { int mid = l + r &gt;&gt; 1; if(a == l &amp;&amp; b == r) return t[x]; else { if(b &lt;= mid) return query(x &lt;&lt; 1, l, mid, a, b); if(a &gt; mid) return query(x &lt;&lt; 1 | 1, mid + 1, r, a, b); return lca(query(x &lt;&lt; 1, l, mid, a, mid), query(x &lt;&lt; 1 | 1, mid + 1, r, mid + 1, b)); } } void solve() { init(); cin &gt;&gt; n &gt;&gt; m &gt;&gt; q; int nn = n; for(int i = 1; i &lt;= m; i ++) cin &gt;&gt; e[i].x &gt;&gt; e[i].y; kruskal(); dfs(n); build(1, 1, nn); for(int i = 1; i &lt;= q; i ++) { int l, r; cin &gt;&gt; l &gt;&gt; r; cout &lt;&lt; d[query(1, 1, nn, l, r)].c &lt;&lt; &quot; &quot;; } cout &lt;&lt; endl; } signed main() { ios::sync_with_stdio(false), cin.tie(nullptr), cout.tie(nullptr); int T; cin &gt;&gt; T; while(T --) { solve(); } return 0; }","categories":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://memsetray.github.io/categories/é¢˜è§£/"}],"tags":[],"keywords":[{"name":"é¢˜è§£","slug":"é¢˜è§£","permalink":"https://memsetray.github.io/categories/é¢˜è§£/"}]}]}